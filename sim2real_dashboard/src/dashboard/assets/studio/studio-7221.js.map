{"version":3,"file":"studio-7221.js","mappings":"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","sources":["webpack:///../../node_modules/@mui/icons-material/KeyboardDoubleArrowDown.js","webpack:///../../packages/studio-base/src/panels/Log/FilterTagInput.tsx","webpack:///../../packages/studio-base/src/panels/Log/useLogStyles.ts","webpack:///../../packages/studio-base/src/panels/Log/types.ts","webpack:///../../packages/studio-base/src/panels/Log/LevelToString.ts","webpack:///../../packages/studio-base/src/panels/Log/FilterBar.tsx","webpack:///../../node_modules/@mui/material/Fab/fabClasses.js","webpack:///../../node_modules/@mui/material/Fab/Fab.js","webpack:///../../packages/studio-base/src/panels/Log/Stamp.tsx","webpack:///../../packages/studio-base/src/panels/Log/LogMessage.tsx","webpack:///../../packages/studio-base/src/panels/Log/LogList.tsx","webpack:///../../packages/studio-base/src/panels/Log/conversion.tsx","webpack:///../../packages/studio-base/src/panels/Log/filterMessages.ts","webpack:///../../packages/studio-base/src/panels/Log/settings.ts","webpack:///../../packages/studio-base/src/panels/Log/index.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z\"\n}, \"1\")], 'KeyboardDoubleArrowDown');\nexports.default = _default;","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nimport { TextField } from \"@mui/material\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport { makeStyles } from \"tss-react/mui\";\n\nconst useStyles = makeStyles()((theme) => ({\n  input: {\n    \".MuiInputBase-root.MuiInputBase-sizeSmall .MuiAutocomplete-input.MuiInputBase-inputSizeSmall\":\n      {\n        paddingBottom: theme.spacing(0.425),\n        paddingTop: theme.spacing(0.425),\n      },\n    \".MuiInputBase-root.MuiInputBase-sizeSmall\": {\n      padding: theme.spacing(0.125),\n      gap: theme.spacing(0.25),\n    },\n  },\n  chip: {\n    \"&.MuiAutocomplete-tag\": {\n      margin: 0,\n    },\n  },\n}));\n\nexport function FilterTagInput({\n  items,\n  suggestions,\n  onChange,\n}: {\n  items: string[];\n  suggestions: string[];\n  onChange: (items: string[]) => void;\n}): JSX.Element {\n  const { classes } = useStyles();\n\n  return (\n    <Autocomplete\n      value={items}\n      multiple\n      onChange={(_event, value) => onChange(value)}\n      id=\"tags-filled\"\n      options={suggestions}\n      freeSolo\n      fullWidth\n      ChipProps={{\n        className: classes.chip,\n        variant: \"filled\",\n        size: \"small\",\n      }}\n      renderInput={(params) => (\n        <TextField {...params} size=\"small\" className={classes.input} placeholder=\"Search filter\" />\n      )}\n    />\n  );\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nimport { makeStyles } from \"tss-react/mui\";\n\nexport default makeStyles()(({ palette }) => ({\n  /* eslint-disable tss-unused-classes/unused-classes */\n  fatal: {\n    color: palette.error.main,\n    fontWeight: \"bold\",\n  },\n  error: {\n    color: palette.error.main,\n  },\n  warn: {\n    color: palette.warning.main,\n  },\n  info: {\n    color: palette.info.main,\n  },\n  debug: {\n    color: palette.text.secondary,\n  },\n  /* eslint-enable tss-unused-classes/unused-classes */\n}));\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nimport { Time, MessageEvent } from \"@foxglove/studio\";\nimport { FoxgloveMessages } from \"@foxglove/studio-base/types/FoxgloveMessages\";\nimport { Header } from \"@foxglove/studio-base/types/Messages\";\n\nexport type Config = {\n  searchTerms: string[];\n  minLogLevel: number;\n  topicToRender?: string;\n};\n\nexport enum LogLevel {\n  UNKNOWN = 0,\n  DEBUG = 1,\n  INFO = 2,\n  WARN = 3,\n  ERROR = 4,\n  FATAL = 5,\n}\n\nexport type Ros1RosgraphMsgs$Log = Readonly<{\n  header: Header;\n  level: number;\n  name: string;\n  msg: string;\n  file: string;\n  function: string;\n  line: number;\n  topics: readonly string[];\n}>;\n\nexport type Ros2RosgraphMsgs$Log = Readonly<{\n  stamp: Time;\n  level: number;\n  name: string;\n  msg: string;\n  file: string;\n  function: string;\n  line: number;\n}>;\n\nexport type NormalizedLogMessage = {\n  stamp: Time;\n  level: LogLevel;\n  message: string;\n  name?: string;\n  file?: string;\n  line?: number;\n};\n\nexport type LogMessageEvent =\n  | MessageEvent<FoxgloveMessages[\"foxglove.Log\"]>\n  | MessageEvent<Ros1RosgraphMsgs$Log>\n  | MessageEvent<Ros2RosgraphMsgs$Log>;\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { LogLevel } from \"./types\";\n\n// map a numeric level to a string\nexport default function LevelToString(level: LogLevel): string {\n  switch (level) {\n    case LogLevel.DEBUG:\n      return \"DEBUG\";\n    case LogLevel.INFO:\n      return \"INFO\";\n    case LogLevel.WARN:\n      return \"WARN\";\n    case LogLevel.ERROR:\n      return \"ERROR\";\n    case LogLevel.FATAL:\n      return \"FATAL\";\n    default:\n      return \"?????\";\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport CopyAllIcon from \"@mui/icons-material/CopyAll\";\nimport { MenuItem, Select, Typography } from \"@mui/material\";\nimport { useCallback } from \"react\";\nimport { makeStyles } from \"tss-react/mui\";\n\nimport ToolbarIconButton from \"@foxglove/studio-base/components/PanelToolbar/ToolbarIconButton\";\nimport Stack from \"@foxglove/studio-base/components/Stack\";\nimport { FilterTagInput } from \"@foxglove/studio-base/panels/Log/FilterTagInput\";\nimport useLogStyles from \"@foxglove/studio-base/panels/Log/useLogStyles\";\nimport clipboard from \"@foxglove/studio-base/util/clipboard\";\n\nimport LevelToString from \"./LevelToString\";\nimport { LogMessageEvent, LogLevel } from \"./types\";\n\n// Create the log level options nodes once since they don't change per render.\nconst LOG_LEVEL_OPTIONS = [\n  { text: \">= DEBUG\", key: LogLevel.DEBUG },\n  { text: \">= INFO\", key: LogLevel.INFO },\n  { text: \">= WARN\", key: LogLevel.WARN },\n  { text: \">= ERROR\", key: LogLevel.ERROR },\n  { text: \">= FATAL\", key: LogLevel.FATAL },\n];\n\nconst useStyles = makeStyles()((theme) => ({\n  root: {\n    marginRight: theme.spacing(-1),\n  },\n  levelSelect: {\n    \".MuiSelect-select.MuiInputBase-inputSizeSmall\": {\n      paddingBottom: `${theme.spacing(0.375)} !important`,\n      paddingTop: `${theme.spacing(0.375)} !important`,\n    },\n  },\n}));\n\ntype Filter = {\n  minLogLevel: number;\n  searchTerms: string[];\n};\n\nexport type FilterBarProps = {\n  searchTerms: Set<string>;\n  nodeNames: Set<string>;\n  minLogLevel: number;\n  messages: readonly LogMessageEvent[];\n\n  onFilterChange: (filter: Filter) => void;\n};\n\nexport default function FilterBar(props: FilterBarProps): JSX.Element {\n  const { classes: logStyles } = useLogStyles();\n  const { classes, cx } = useStyles();\n\n  const logLevelToClass = useCallback(\n    (level: number) => {\n      const strLevel = LevelToString(level);\n      return cx({\n        [logStyles.fatal]: strLevel === \"FATAL\",\n        [logStyles.error]: strLevel === \"ERROR\",\n        [logStyles.warn]: strLevel === \"WARN\",\n        [logStyles.info]: strLevel === \"INFO\",\n        [logStyles.debug]: strLevel === \"DEBUG\",\n      });\n    },\n    [cx, logStyles.debug, logStyles.error, logStyles.fatal, logStyles.info, logStyles.warn],\n  );\n\n  const logLevelItems = LOG_LEVEL_OPTIONS.map((option, index) => {\n    const className = logLevelToClass(option.key);\n    return (\n      <MenuItem key={index} value={option.key} className={className}>\n        <Typography variant=\"body2\">{option.text}</Typography>\n      </MenuItem>\n    );\n  });\n\n  const renderLogLevelValue = useCallback(\n    (value: number) => {\n      const option = LOG_LEVEL_OPTIONS.find((o) => o.key === value);\n      const className = logLevelToClass(Number(option?.key ?? LogLevel.DEBUG));\n      return <div className={className}>{option?.text}</div>;\n    },\n    [logLevelToClass],\n  );\n\n  return (\n    <Stack className={classes.root} flex=\"auto\" direction=\"row\" gap={0.5} alignItems=\"center\">\n      <Select\n        className={classes.levelSelect}\n        value={props.minLogLevel}\n        size=\"small\"\n        renderValue={renderLogLevelValue}\n        onChange={(event) => {\n          props.onFilterChange({\n            minLogLevel: Number(event.target.value),\n            searchTerms: Array.from(props.searchTerms),\n          });\n        }}\n      >\n        {logLevelItems}\n      </Select>\n      <FilterTagInput\n        items={[...props.searchTerms]}\n        suggestions={[...props.nodeNames]}\n        onChange={(items: string[]) => {\n          props.onFilterChange({\n            minLogLevel: props.minLogLevel,\n            searchTerms: items,\n          });\n        }}\n      />\n      <Stack direction=\"row\" alignItems=\"center\" gap={0.5}>\n        <ToolbarIconButton\n          onClick={() => {\n            void clipboard.copy(JSON.stringify(props.messages, undefined, 2) ?? \"\");\n          }}\n          title=\"Copy log to clipboard\"\n        >\n          <CopyAllIcon />\n        </ToolbarIconButton>\n      </Stack>\n    </Stack>\n  );\n}\n","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getFabUtilityClass(slot) {\n  return generateUtilityClass('MuiFab', slot);\n}\nconst fabClasses = generateUtilityClasses('MuiFab', ['root', 'primary', 'secondary', 'extended', 'circular', 'focusVisible', 'disabled', 'colorInherit', 'sizeSmall', 'sizeMedium', 'sizeLarge', 'info', 'error', 'warning', 'success']);\nexport default fabClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"disableFocusRipple\", \"focusVisibleClassName\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport fabClasses, { getFabUtilityClass } from './fabClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    color,\n    variant,\n    classes,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `size${capitalize(size)}`, color === 'inherit' ? 'colorInherit' : color]\n  };\n  const composedClasses = composeClasses(slots, getFabUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst FabRoot = styled(ButtonBase, {\n  name: 'MuiFab',\n  slot: 'Root',\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`size${capitalize(ownerState.size)}`], ownerState.color === 'inherit' && styles.colorInherit, styles[capitalize(ownerState.size)], styles[ownerState.color]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  var _theme$palette$getCon, _theme$palette;\n  return _extends({}, theme.typography.button, {\n    minHeight: 36,\n    transition: theme.transitions.create(['background-color', 'box-shadow', 'border-color'], {\n      duration: theme.transitions.duration.short\n    }),\n    borderRadius: '50%',\n    padding: 0,\n    minWidth: 0,\n    width: 56,\n    height: 56,\n    zIndex: (theme.vars || theme).zIndex.fab,\n    boxShadow: (theme.vars || theme).shadows[6],\n    '&:active': {\n      boxShadow: (theme.vars || theme).shadows[12]\n    },\n    color: theme.vars ? theme.vars.palette.text.primary : (_theme$palette$getCon = (_theme$palette = theme.palette).getContrastText) == null ? void 0 : _theme$palette$getCon.call(_theme$palette, theme.palette.grey[300]),\n    backgroundColor: (theme.vars || theme).palette.grey[300],\n    '&:hover': {\n      backgroundColor: (theme.vars || theme).palette.grey.A100,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette.grey[300]\n      },\n      textDecoration: 'none'\n    },\n    [`&.${fabClasses.focusVisible}`]: {\n      boxShadow: (theme.vars || theme).shadows[6]\n    }\n  }, ownerState.size === 'small' && {\n    width: 40,\n    height: 40\n  }, ownerState.size === 'medium' && {\n    width: 48,\n    height: 48\n  }, ownerState.variant === 'extended' && {\n    borderRadius: 48 / 2,\n    padding: '0 16px',\n    width: 'auto',\n    minHeight: 'auto',\n    minWidth: 48,\n    height: 48\n  }, ownerState.variant === 'extended' && ownerState.size === 'small' && {\n    width: 'auto',\n    padding: '0 8px',\n    borderRadius: 34 / 2,\n    minWidth: 34,\n    height: 34\n  }, ownerState.variant === 'extended' && ownerState.size === 'medium' && {\n    width: 'auto',\n    padding: '0 16px',\n    borderRadius: 40 / 2,\n    minWidth: 40,\n    height: 40\n  }, ownerState.color === 'inherit' && {\n    color: 'inherit'\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.color !== 'inherit' && ownerState.color !== 'default' && (theme.vars || theme).palette[ownerState.color] != null && {\n  color: (theme.vars || theme).palette[ownerState.color].contrastText,\n  backgroundColor: (theme.vars || theme).palette[ownerState.color].main,\n  '&:hover': {\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].dark,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n    }\n  }\n}), ({\n  theme\n}) => ({\n  [`&.${fabClasses.disabled}`]: {\n    color: (theme.vars || theme).palette.action.disabled,\n    boxShadow: (theme.vars || theme).shadows[0],\n    backgroundColor: (theme.vars || theme).palette.action.disabledBackground\n  }\n}));\nconst Fab = /*#__PURE__*/React.forwardRef(function Fab(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFab'\n  });\n  const {\n      children,\n      className,\n      color = 'default',\n      component = 'button',\n      disabled = false,\n      disableFocusRipple = false,\n      focusVisibleClassName,\n      size = 'large',\n      variant = 'circular'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    disabled,\n    disableFocusRipple,\n    size,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FabRoot, _extends({\n    className: clsx(classes.root, className),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    classes: classes,\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Fab.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'default'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'error', 'info', 'inherit', 'primary', 'secondary', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'large'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'circular'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['circular', 'extended']), PropTypes.string])\n} : void 0;\nexport default Fab;","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { padStart } from \"lodash\";\n\nimport { Time } from \"@foxglove/studio\";\nimport { TimeDisplayMethod } from \"@foxglove/studio-base/types/panels\";\nimport { formatTime } from \"@foxglove/studio-base/util/formatTime\";\n\n// pad the start of `val` with 0's to make the total string length `count` size\nfunction PadStart(val: unknown, count: number) {\n  return padStart(`${val}`, count, \"0\");\n}\n\ntype Props = {\n  stamp: Time;\n  timestampFormat: TimeDisplayMethod;\n  timeZone: string | undefined;\n};\n\nfunction Stamp(props: Props): JSX.Element {\n  if (props.timestampFormat === \"TOD\") {\n    const formattedTime = formatTime(props.stamp, props.timeZone);\n    return <span>{formattedTime}</span>;\n  } else {\n    return (\n      <span>\n        {PadStart(props.stamp.sec, 10)}.{PadStart(props.stamp.nsec, 9)}\n      </span>\n    );\n  }\n}\n\nexport default Stamp;\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { padStart } from \"lodash\";\nimport { makeStyles } from \"tss-react/mui\";\n\nimport useLogStyles from \"@foxglove/studio-base/panels/Log/useLogStyles\";\nimport { TimeDisplayMethod } from \"@foxglove/studio-base/types/panels\";\nimport { fonts } from \"@foxglove/studio-base/util/sharedStyleConstants\";\n\nimport LevelToString from \"./LevelToString\";\nimport Stamp from \"./Stamp\";\nimport { NormalizedLogMessage } from \"./types\";\n\nconst useStyles = makeStyles()({\n  root: {\n    // Subsequent lines are indented bu using left padding, so we undo the padding for the first line\n    // with textIndent\n    textIndent: -20,\n    paddingLeft: 20,\n    whiteSpace: \"pre-wrap\",\n    paddingTop: 1,\n    paddingBottom: 1,\n    lineHeight: 1,\n    fontFamily: fonts.MONOSPACE,\n  },\n});\n\nexport default React.memo(function LogMessage(props: {\n  value: NormalizedLogMessage;\n  timestampFormat: TimeDisplayMethod;\n  timeZone: string | undefined;\n}) {\n  const { value: msg, timestampFormat, timeZone } = props;\n\n  const { classes, cx } = useStyles();\n  const { classes: logClasses } = useLogStyles();\n\n  const altStr = `${msg.file}:${msg.line}`;\n  const strLevel = LevelToString(msg.level);\n  const stamp = msg.stamp;\n\n  // the first message line is rendered with the info/stamp/name\n  // following newlines are rendered on their own line\n  const lines = msg.message.split(\"\\n\");\n\n  return (\n    <div\n      title={altStr}\n      className={cx(classes.root, {\n        [logClasses.fatal]: strLevel === \"FATAL\",\n        [logClasses.error]: strLevel === \"ERROR\",\n        [logClasses.warn]: strLevel === \"WARN\",\n        [logClasses.info]: strLevel === \"INFO\",\n        [logClasses.debug]: strLevel === \"DEBUG\",\n      })}\n    >\n      <div>\n        <span>[{padStart(strLevel, 5, \" \")}]</span>\n        <span>\n          [<Stamp stamp={stamp} timestampFormat={timestampFormat} timeZone={timeZone} />]\n        </span>\n        {msg.name != undefined && <span>[{msg.name}]:</span>}\n        <span>&nbsp;</span>\n        <span>{lines[0]}</span>\n      </div>\n      {/* extra lines */}\n      <div>\n        {/* using array index as key is desired here since the index does not change */}\n        {lines.slice(1).map((line, idx) => {\n          return (\n            <div key={idx}>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              {line}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n});\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport DoubleArrowDownIcon from \"@mui/icons-material/KeyboardDoubleArrowDown\";\nimport { Fab } from \"@mui/material\";\nimport { CSSProperties, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useResizeDetector } from \"react-resize-detector\";\nimport { useLatest } from \"react-use\";\nimport { AutoSizer } from \"react-virtualized\";\nimport { VariableSizeList as List } from \"react-window\";\nimport { makeStyles } from \"tss-react/mui\";\n\nimport { useAppTimeFormat } from \"@foxglove/studio-base/hooks\";\nimport { NormalizedLogMessage } from \"@foxglove/studio-base/panels/Log/types\";\n\nimport LogMessage from \"./LogMessage\";\n\nconst useStyles = makeStyles()((theme) => ({\n  floatingButton: {\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    margin: theme.spacing(1.5),\n  },\n}));\n\ntype Props = {\n  items: readonly NormalizedLogMessage[];\n};\n\ntype ListItemData = {\n  items: readonly NormalizedLogMessage[];\n  setRowHeight: (index: number, height: number) => void;\n};\n\nfunction Row(props: { data: ListItemData; index: number; style: CSSProperties }): JSX.Element {\n  const { timeFormat, timeZone } = useAppTimeFormat();\n  const ref = useRef<HTMLDivElement>(ReactNull);\n\n  useEffect(() => {\n    if (ref.current) {\n      props.data.setRowHeight(props.index, ref.current.clientHeight);\n    }\n  }, [props.data, props.index]);\n\n  const item = props.data.items[props.index]!;\n\n  return (\n    <div style={{ ...props.style, height: \"auto\" }} ref={ref}>\n      <LogMessage value={item} timestampFormat={timeFormat} timeZone={timeZone} />\n    </div>\n  );\n}\n\n/**\n * List for showing large number of items, which are expected to be appended to the end regularly.\n * Automatically scrolls to the bottom unless you explicitly scroll up.\n */\nfunction LogList({ items }: Props): JSX.Element {\n  const { classes } = useStyles();\n\n  // Reference to the list item itself.\n  const listRef = useRef<List>(ReactNull);\n\n  // Reference to the outer list div. Needed for autoscroll determination.\n  const outerRef = useRef<HTMLDivElement>(ReactNull);\n\n  const latestItems = useLatest(items);\n\n  // Automatically scroll to reveal new items.\n  const [autoscrollToEnd, setAutoscrollToEnd] = useState(true);\n\n  const onResetView = React.useCallback(() => {\n    setAutoscrollToEnd(true);\n    listRef.current?.scrollToItem(latestItems.current.length - 1, \"end\");\n  }, [latestItems]);\n\n  useEffect(() => {\n    if (autoscrollToEnd) {\n      listRef.current?.scrollToItem(items.length - 1, \"end\");\n    }\n  }, [autoscrollToEnd, items.length]);\n\n  // Disable autoscroll if the user manually scrolls back.\n  const onScroll = React.useCallback(\n    ({\n      scrollDirection,\n      scrollOffset,\n      scrollUpdateWasRequested,\n    }: {\n      scrollDirection: \"forward\" | \"backward\";\n      scrollOffset: number;\n      scrollUpdateWasRequested: boolean;\n    }) => {\n      const isAtEnd =\n        scrollOffset + (outerRef.current?.offsetHeight ?? 0) === outerRef.current?.scrollHeight;\n      if (!scrollUpdateWasRequested && scrollDirection === \"backward\" && !isAtEnd) {\n        setAutoscrollToEnd(false);\n      } else if (scrollDirection === \"forward\" && isAtEnd) {\n        setAutoscrollToEnd(true);\n      }\n    },\n    [],\n  );\n\n  // Cache calculated item heights.\n  const itemHeightCache = useRef<Record<number, number>>({});\n\n  const getRowHeight = useCallback((index: number) => itemHeightCache.current[index] ?? 16, []);\n\n  const setRowHeight = useCallback((index: number, height: number) => {\n    itemHeightCache.current[index] = height;\n    listRef.current?.resetAfterIndex(index);\n  }, []);\n\n  const { width: resizedWidth, ref: resizeRootRef } = useResizeDetector({\n    refreshRate: 0,\n    refreshMode: \"debounce\",\n  });\n\n  // This is passed to each row to tell it what to render.\n  const itemData = useMemo(\n    () => ({\n      items,\n      setRowHeight,\n    }),\n    // Add resized width as an extra dep here to force the list to recalculate\n    // everything when the width changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [items, setRowHeight, resizedWidth],\n  );\n\n  return (\n    <AutoSizer>\n      {({ width, height }) => {\n        return (\n          <div style={{ position: \"relative\", width, height }} ref={resizeRootRef}>\n            <List\n              ref={listRef}\n              width={width}\n              height={height}\n              style={{ outline: \"none\" }}\n              itemData={itemData}\n              itemSize={getRowHeight}\n              itemCount={items.length}\n              outerRef={outerRef}\n              onScroll={onScroll}\n            >\n              {Row}\n            </List>\n\n            {!autoscrollToEnd && (\n              <Fab\n                size=\"small\"\n                title=\"Scroll to bottom\"\n                onClick={onResetView}\n                className={classes.floatingButton}\n              >\n                <DoubleArrowDownIcon />\n              </Fab>\n            )}\n          </div>\n        );\n      }}\n    </AutoSizer>\n  );\n}\n\nexport default LogList;\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nimport { fromNanoSec } from \"@foxglove/rostime\";\nimport { Time } from \"@foxglove/studio\";\nimport { FoxgloveMessages } from \"@foxglove/studio-base/types/FoxgloveMessages\";\n\nimport {\n  Ros1RosgraphMsgs$Log,\n  LogLevel,\n  Ros2RosgraphMsgs$Log,\n  LogMessageEvent,\n  NormalizedLogMessage,\n} from \"./types\";\n\n// Get the log message string from the log message\nexport function getNormalizedMessage(logMessage: LogMessageEvent[\"message\"]): string {\n  if (\"msg\" in logMessage) {\n    return logMessage.msg;\n  } else if (\"message\" in logMessage) {\n    return logMessage.message;\n  }\n\n  return \"\";\n}\n\nexport function getNormalizedLevel(datatype: string, raw: LogMessageEvent[\"message\"]): number {\n  switch (datatype) {\n    case \"foxglove_msgs/Log\":\n    case \"foxglove_msgs/msg/Log\":\n    case \"foxglove.Log\":\n      return (raw as FoxgloveMessages[\"foxglove.Log\"]).level;\n    case \"rosgraph_msgs/Log\":\n    case \"rcl_interfaces/msg/Log\":\n      return rosLevelToLogLevel((raw as Ros1RosgraphMsgs$Log).level);\n  }\n\n  return LogLevel.UNKNOWN;\n}\n\nfunction getNormalizedStamp(datatype: string, raw: LogMessageEvent[\"message\"]): Time {\n  switch (datatype) {\n    case \"foxglove_msgs/Log\":\n    case \"foxglove_msgs/msg/Log\":\n    case \"foxglove.Log\": {\n      const timestamp = (raw as FoxgloveMessages[\"foxglove.Log\"]).timestamp;\n      if (typeof timestamp === \"bigint\") {\n        return fromNanoSec(timestamp);\n      }\n      return timestamp;\n    }\n    case \"rosgraph_msgs/Log\":\n      return (raw as Ros1RosgraphMsgs$Log).header.stamp;\n    case \"rcl_interfaces/msg/Log\":\n      return (raw as Ros2RosgraphMsgs$Log).stamp;\n  }\n\n  return {\n    sec: 0,\n    nsec: 0,\n  };\n}\n\nexport function normalizedLogMessage(\n  datatype: string,\n  raw: LogMessageEvent[\"message\"],\n): NormalizedLogMessage {\n  const message = getNormalizedMessage(raw);\n  const stamp = getNormalizedStamp(datatype, raw);\n  const level = getNormalizedLevel(datatype, raw);\n\n  return {\n    message,\n    stamp,\n    level,\n    name: raw.name,\n    file: raw.file,\n    line: raw.line,\n  };\n}\n\nfunction rosLevelToLogLevel(rosLevel: number): LogLevel {\n  switch (rosLevel) {\n    case 1:\n    case 10:\n      return LogLevel.DEBUG;\n    case 2:\n    case 20:\n      return LogLevel.INFO;\n    case 4:\n    case 30:\n      return LogLevel.WARN;\n    case 8:\n    case 40:\n      return LogLevel.ERROR;\n    case 16:\n    case 50:\n      return LogLevel.FATAL;\n    default:\n      return LogLevel.UNKNOWN;\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { getNormalizedMessage, getNormalizedLevel } from \"./conversion\";\nimport { LogMessageEvent } from \"./types\";\n\nexport default function filterMessages(\n  events: readonly LogMessageEvent[],\n  filter: { minLogLevel: number; searchTerms: string[] },\n): readonly LogMessageEvent[] {\n  const { minLogLevel, searchTerms } = filter;\n  const hasActiveFilters = minLogLevel > 1 || searchTerms.length > 0;\n  // return all messages if we wouldn't filter anything\n  if (!hasActiveFilters) {\n    return events;\n  }\n\n  const searchTermsInLowerCase = searchTerms.map((term) => term.toLowerCase());\n\n  return events.filter((event) => {\n    const logMessage = event.message;\n    const effectiveLogLevel = getNormalizedLevel(event.schemaName, logMessage);\n    if (effectiveLogLevel < minLogLevel) {\n      return false;\n    }\n\n    if (searchTerms.length === 0) {\n      return true;\n    }\n\n    const lowerCaseName = logMessage.name?.toLowerCase() ?? \"\";\n    const lowerCaseMsg = getNormalizedMessage(logMessage).toLowerCase();\n    return searchTermsInLowerCase.some(\n      (term) => lowerCaseName.includes(term) || lowerCaseMsg.includes(term),\n    );\n  });\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nimport { TFunction } from \"i18next\";\n\nimport { SettingsTreeNodes } from \"@foxglove/studio\";\nimport { Topic } from \"@foxglove/studio-base/players/types\";\n\nexport function buildSettingsTree(\n  topicToRender: string,\n  availableTopics: Topic[],\n  t: TFunction<\"log\">,\n): SettingsTreeNodes {\n  const topicOptions = availableTopics.map((topic) => ({ label: topic.name, value: topic.name }));\n  const topicIsAvailable = availableTopics.some((topic) => topic.name === topicToRender);\n  if (!topicIsAvailable) {\n    topicOptions.unshift({ value: topicToRender, label: topicToRender });\n  }\n  const topicError = topicIsAvailable ? undefined : t(\"topicError\", { topic: topicToRender });\n\n  return {\n    general: {\n      fields: {\n        topicToRender: {\n          input: \"select\",\n          label: t(\"topic\"),\n          value: topicToRender,\n          error: topicError,\n          options: topicOptions,\n        },\n      },\n    },\n  };\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { produce } from \"immer\";\nimport { set } from \"lodash\";\nimport { useCallback, useEffect, useMemo, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { SettingsTreeAction } from \"@foxglove/studio\";\nimport { useDataSourceInfo, useMessagesByTopic } from \"@foxglove/studio-base/PanelAPI\";\nimport Panel from \"@foxglove/studio-base/components/Panel\";\nimport PanelToolbar from \"@foxglove/studio-base/components/PanelToolbar\";\nimport Stack from \"@foxglove/studio-base/components/Stack\";\nimport { usePanelSettingsTreeUpdate } from \"@foxglove/studio-base/providers/PanelStateContextProvider\";\nimport { SaveConfig } from \"@foxglove/studio-base/types/panels\";\n\nimport FilterBar, { FilterBarProps } from \"./FilterBar\";\nimport LogList from \"./LogList\";\nimport { normalizedLogMessage } from \"./conversion\";\nimport filterMessages from \"./filterMessages\";\nimport { buildSettingsTree } from \"./settings\";\nimport { Config, LogMessageEvent } from \"./types\";\n\ntype Props = {\n  config: Config;\n  saveConfig: SaveConfig<Config>;\n};\n\nconst SUPPORTED_DATATYPES = [\n  \"foxglove_msgs/Log\",\n  \"foxglove_msgs/msg/Log\",\n  \"foxglove.Log\",\n  \"rcl_interfaces/msg/Log\",\n  \"ros.rcl_interfaces.Log\",\n  \"ros.rosgraph_msgs.Log\",\n  \"rosgraph_msgs/Log\",\n];\n\nconst LogPanel = React.memo(({ config, saveConfig }: Props) => {\n  const { topics } = useDataSourceInfo();\n  const { minLogLevel, searchTerms } = config;\n\n  const updatePanelSettingsTree = usePanelSettingsTreeUpdate();\n  const { t } = useTranslation(\"log\");\n\n  const onFilterChange = useCallback<FilterBarProps[\"onFilterChange\"]>(\n    (filter) => {\n      saveConfig({ minLogLevel: filter.minLogLevel, searchTerms: filter.searchTerms });\n    },\n    [saveConfig],\n  );\n\n  const availableTopics = useMemo(\n    () =>\n      topics.filter(\n        (topic) => topic.schemaName != undefined && SUPPORTED_DATATYPES.includes(topic.schemaName),\n      ),\n    [topics],\n  );\n\n  const defaultTopicToRender = useMemo(() => availableTopics[0]?.name, [availableTopics]);\n\n  const topicToRender = config.topicToRender ?? defaultTopicToRender ?? \"/rosout\";\n\n  const { [topicToRender]: messages = [] } = useMessagesByTopic({\n    topics: [topicToRender],\n    historySize: 100000,\n  }) as { [key: string]: LogMessageEvent[] };\n\n  const actionHandler = useCallback(\n    (action: SettingsTreeAction) => {\n      if (action.action !== \"update\") {\n        return;\n      }\n\n      const { path, value } = action.payload;\n      saveConfig(produce<Config>((draft) => set(draft, path.slice(1), value)));\n    },\n    [saveConfig],\n  );\n\n  useEffect(() => {\n    updatePanelSettingsTree({\n      actionHandler,\n      nodes: buildSettingsTree(topicToRender, availableTopics, t),\n    });\n  }, [actionHandler, availableTopics, topicToRender, updatePanelSettingsTree, t]);\n\n  // avoid making new sets for node names\n  // the filter bar uess the node names during on-demand filtering\n  // the filter bar uses the node names during on-demand filtering\n  const seenNodeNamesCache = useRef(new Set<string>());\n\n  const seenNodeNames = useMemo(() => {\n    for (const msgEvent of messages) {\n      const name = msgEvent.message.name;\n      if (name != undefined) {\n        seenNodeNamesCache.current.add(name);\n      }\n    }\n\n    return seenNodeNamesCache.current;\n  }, [messages]);\n\n  const searchTermsSet = useMemo(() => new Set(searchTerms), [searchTerms]);\n\n  const filteredMessages = useMemo(\n    () => filterMessages(messages, { minLogLevel, searchTerms }),\n    [messages, minLogLevel, searchTerms],\n  );\n\n  const normalizedMessages = useMemo(\n    () => filteredMessages.map((msg) => normalizedLogMessage(msg.schemaName, msg[\"message\"])),\n    [filteredMessages],\n  );\n\n  return (\n    <Stack fullHeight>\n      <PanelToolbar>\n        <FilterBar\n          searchTerms={searchTermsSet}\n          minLogLevel={minLogLevel}\n          nodeNames={seenNodeNames}\n          messages={filteredMessages}\n          onFilterChange={onFilterChange}\n        />\n      </PanelToolbar>\n      <Stack flexGrow={1}>\n        <LogList items={normalizedMessages} />\n      </Stack>\n    </Stack>\n  );\n});\n\nLogPanel.displayName = \"Log\";\n\nexport default Panel(\n  Object.assign(LogPanel, {\n    defaultConfig: { searchTerms: [], minLogLevel: 1 } as Config,\n    panelType: \"RosOut\", // The legacy RosOut name is used for backwards compatibility\n  }),\n);\n"],"names":["_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","useStyles","theme","FilterTagInput","items","suggestions","onChange","classes","Autocomplete","_event","value","params","TextField","palette","LogLevel","LevelToString","level","LOG_LEVEL_OPTIONS","FilterBar","props","logStyles","useLogStyles","cx","logLevelToClass","strLevel","logLevelItems","option","index","className","MenuItem","Typography","renderLogLevelValue","o","Stack","Select","event","ToolbarIconButton","clipboard","CopyAll","getFabUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","useUtilityClasses","ownerState","color","variant","size","slots","capitalize","composedClasses","composeClasses","FabRoot","styled","ButtonBase","prop","styles","_theme$palette$getCon","_theme$palette","inProps","ref","useThemeProps","children","component","disabled","disableFocusRipple","focusVisibleClassName","other","PadStart","val","count","Stamp","formattedTime","formatTime","React","msg","timestampFormat","timeZone","logClasses","altStr","stamp","lines","line","idx","Row","timeFormat","item","LogMessage","LogList","listRef","outerRef","latestItems","useLatest","autoscrollToEnd","setAutoscrollToEnd","onResetView","onScroll","scrollDirection","scrollOffset","scrollUpdateWasRequested","isAtEnd","itemHeightCache","getRowHeight","setRowHeight","height","resizedWidth","resizeRootRef","itemData","width","getNormalizedMessage","logMessage","getNormalizedLevel","datatype","raw","rosLevelToLogLevel","getNormalizedStamp","timestamp","normalizedLogMessage","message","rosLevel","filterMessages","events","filter","minLogLevel","searchTerms","searchTermsInLowerCase","term","lowerCaseName","lowerCaseMsg","buildSettingsTree","topicToRender","availableTopics","t","topicOptions","topic","topicIsAvailable","topicError","SUPPORTED_DATATYPES","LogPanel","config","saveConfig","topics","updatePanelSettingsTree","onFilterChange","defaultTopicToRender","messages","actionHandler","action","path","draft","seenNodeNamesCache","seenNodeNames","msgEvent","name","searchTermsSet","filteredMessages","normalizedMessages","PanelToolbar","Panel"],"sourceRoot":""}