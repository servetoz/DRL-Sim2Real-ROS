{"version":3,"file":"studio-5764.js","mappings":"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","sources":["webpack:///../../node_modules/eventemitter3/index.js","webpack:///../../packages/studio-base/src/util/Rpc.ts","webpack:///../../packages/studio-base/src/util/workers.ts","webpack:///../../packages/studio-base/src/reportError.ts","webpack:///../../packages/studio-base/src/util/errors.ts","webpack:///../../packages/studio-base/src/util/sendNotification.ts","webpack:///../../packages/studio-base/src/util/overwriteFetch.ts","webpack:///../../packages/studio-base/src/util/RpcWorkerUtils.ts","webpack:///../../node_modules/eventemitter3/index.mjs","webpack:///../../packages/log/src/index.ts","webpack:///../../packages/studio-base/src/util/maybeCast.ts","webpack:///../../packages/studio-base/src/util/sharedStyleConstants.ts","webpack:///../../packages/studio-base/src/components/Chart/worker/ChartJSManager.ts","webpack:///../../packages/studio-base/src/components/Chart/worker/ChartJsMux.ts","webpack:///../../packages/studio-base/src/components/Chart/worker/main.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/importScripts chunk loading","webpack:///webpack/runtime/startup chunk dependencies","webpack:///webpack/startup"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// this type mirrors the MessageChannel and MessagePort APIs which are available on\n// instances of web-workers and shared-workers respectively, as well as avaiable on\n// 'global' within them.\nexport interface Channel {\n  postMessage(data: unknown, transfer?: Transferable[]): void;\n  onmessage?: ((ev: MessageEvent) => unknown) | null; // eslint-disable-line no-restricted-syntax\n  terminate: () => void;\n}\n\nconst RESPONSE = \"$$RESPONSE\";\nconst ERROR = \"$$ERROR\";\n\n// helper function to create linked channels for testing\nexport function createLinkedChannels(): { local: Channel; remote: Channel } {\n  const local: Channel = {\n    onmessage: undefined,\n\n    postMessage(data: unknown, _transfer?: Array<ArrayBuffer>) {\n      const ev = new MessageEvent(\"message\", { data });\n      if (remote.onmessage) {\n        remote.onmessage(ev);\n      }\n    },\n    terminate: () => {\n      // no-op\n    },\n  };\n\n  const remote: Channel = {\n    onmessage: undefined,\n\n    postMessage(data: unknown, _transfer?: Array<ArrayBuffer>) {\n      const ev = new MessageEvent(\"message\", { data });\n      if (local.onmessage) {\n        local.onmessage(ev);\n      }\n    },\n    terminate: () => {\n      // no-op\n    },\n  };\n  return { local, remote };\n}\n\n// This class allows you to hook up bi-directional async calls across web-worker\n// boundaries where a single call to or from a worker can 'wait' on the response.\n// Errors in receivers are propigated back to the caller as a rejection.\n// It also supports returning transferables over the web-worker postMessage api,\n// which was the main shortcomming with the worker-rpc npm module.\n// To attach rpc to an instance of a worker in the main thread:\n//   const rpc = new Rpc(workerInstace);\n// To attach rpc within an a web worker:\n//   const rpc = new Rpc(global);\n// Check out the tests for more examples.\nexport default class Rpc {\n  public static transferables = \"$$TRANSFERABLES\";\n  #channel: Omit<Channel, \"terminate\">;\n  #messageId: number = 0;\n  #pendingCallbacks: {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: number]: (arg0: any) => void;\n  } = {};\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  #receivers: Map<string, (arg0: any) => any> = new Map();\n\n  public constructor(channel: Omit<Channel, \"terminate\">) {\n    this.#channel = channel;\n    if (this.#channel.onmessage) {\n      throw new Error(\n        \"channel.onmessage is already set. Can only use one Rpc instance per channel.\",\n      );\n    }\n    this.#channel.onmessage = this.#onChannelMessage;\n  }\n\n  #onChannelMessage = (ev: MessageEvent): void => {\n    const { id, topic, data } = ev.data;\n    if (topic === RESPONSE) {\n      this.#pendingCallbacks[id]?.(ev.data);\n      delete this.#pendingCallbacks[id];\n      return;\n    }\n    // invoke the receive handler in a promise so if it throws synchronously we can reject\n    new Promise<Record<string, Transferable[] | undefined> | undefined>((resolve) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      const handler = this.#receivers.get(topic);\n      if (!handler) {\n        throw new Error(`no receiver registered for ${topic}`);\n      }\n      // This works both when `handler` returns a value or a Promise.\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      resolve(handler(data));\n    })\n      .then((result) => {\n        if (!result) {\n          return this.#channel.postMessage({ topic: RESPONSE, id });\n        }\n        const transferables = result[Rpc.transferables];\n        delete result[Rpc.transferables];\n        const message = {\n          topic: RESPONSE,\n          id,\n          data: result,\n        };\n        this.#channel.postMessage(message, transferables);\n      })\n      .catch((err) => {\n        const message = {\n          topic: RESPONSE,\n          id,\n          data: {\n            [ERROR]: true,\n            name: err.name,\n            message: err.message,\n            stack: err.stack,\n          },\n        };\n        this.#channel.postMessage(message);\n      });\n  };\n\n  /** Call this when the channel has been terminated to reject any outstanding send callbacks. */\n  public terminate(): void {\n    for (const [id, callback] of Object.entries(this.#pendingCallbacks)) {\n      callback({\n        topic: RESPONSE,\n        id,\n        data: {\n          [ERROR]: true,\n          name: \"Error\",\n          message: \"Rpc terminated\",\n          stack: new Error().stack,\n        },\n      });\n    }\n  }\n\n  // send a message across the rpc boundary to a receiver on the other side\n  // this returns a promise for the receiver's response.  If there is no registered\n  // receiver for the given topic, this method throws\n  public async send<TResult, TData = unknown>(\n    topic: string,\n    data?: TData,\n    transfer?: Transferable[],\n  ): Promise<TResult> {\n    const id = this.#messageId++;\n    const message = { topic, id, data };\n    const result = new Promise<TResult>((resolve, reject) => {\n      this.#pendingCallbacks[id] = (info) => {\n        if (info.data?.[ERROR] != undefined) {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          const error = new Error(info.data.message);\n          error.name = info.data.name;\n          error.stack = info.data.stack;\n          reject(error);\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          resolve(info.data);\n        }\n      };\n    });\n    this.#channel.postMessage(message, transfer);\n    return await result;\n  }\n\n  // register a receiver for a given message on a topic\n  // only one receiver can be registered per topic and currently\n  // 'deregistering' a receiver is not supported since this is not common\n  public receive<T, TOut>(topic: string, handler: (arg0: T) => TOut): void {\n    if (this.#receivers.has(topic)) {\n      throw new Error(`Receiver already registered for topic: ${topic}`);\n    }\n    this.#receivers.set(topic, handler);\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nexport const inWebWorker = (): boolean => {\n  return (\n    typeof global.postMessage !== \"undefined\" &&\n    typeof WorkerGlobalScope !== \"undefined\" &&\n    self instanceof WorkerGlobalScope\n  );\n};\n\n// To debug shared workers, enter 'chrome://inspect/#workers' into the url bar.\nexport const inSharedWorker = (): boolean =>\n  typeof SharedWorkerGlobalScope !== \"undefined\" && self instanceof SharedWorkerGlobalScope;\n\nexport const enforceFetchIsBlocked = <R, Args extends readonly unknown[]>(\n  fn: (...args: Args) => R,\n): ((...args: Args) => Promise<R>) => {\n  const canFetch =\n    typeof fetch !== \"undefined\" &&\n    fetch(\"data:test\")\n      .then(() => true)\n      .catch(() => false);\n  return async (...args) => {\n    if (await canFetch) {\n      throw new Error(\"Content security policy too loose.\");\n    }\n    return fn(...args);\n  };\n};\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\ntype ReportErrorHandler = (error: Error) => void;\n\nconst globalWithHandler = global as { foxgloveStudioReportErrorFn?: ReportErrorHandler };\n\n/**\n * Report an error that has escaped past normal error-handling flows in the app and should be\n * triaged and diagnosed.\n */\nexport function reportError(error: Error): void {\n  globalWithHandler.foxgloveStudioReportErrorFn?.(error);\n}\n\n/**\n * Set the handler function which will be called when an error is passed to `reportError()`. The default is\n * a no-op.\n */\nexport function setReportErrorHandler(fn: ReportErrorHandler): void {\n  globalWithHandler.foxgloveStudioReportErrorFn = fn;\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { DetailsType } from \"@foxglove/studio-base/util/sendNotification\";\n\nexport class AppError extends Error {\n  public details: DetailsType;\n  public extraInfo: unknown;\n  public override message: string;\n\n  public constructor(details: DetailsType, extraInfo?: unknown) {\n    super();\n    this.details = details;\n    this.extraInfo = extraInfo;\n    this.name = \"AppError\";\n    this.message = \"\";\n\n    if (details instanceof Error) {\n      this.message = details.stack ?? details.message;\n    } else if (typeof details === \"string\") {\n      this.message = details;\n    }\n\n    if (extraInfo != undefined) {\n      // If `extraInfo` was passed via a componentDidCatch:\n      // https://reactjs.org/docs/react-component.html#componentdidcatch\n      if ((extraInfo as { componentStack: unknown }).componentStack != undefined) {\n        this.message += `\\n\\n${(extraInfo as { componentStack: unknown }).componentStack}`;\n      } else {\n        try {\n          const stringifiedExtraInfo = JSON.stringify(extraInfo);\n          this.message += `\\n\\n${stringifiedExtraInfo}`;\n        } catch (e) {\n          this.message += `\\n\\n[ Either cyclic object or object with BigInt(s) ]`;\n        }\n      }\n    }\n\n    if (this.message === \"\") {\n      this.message = \"Unknown Error\";\n    }\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// For some handlers it's important to know if the error was due to the application malfunctioning\n// (programming error, dependency being down, etc) or a user mistake (incorrect/malformed data,\n// etc). We should generally prevent users from making mistakes in the first place, but sometimes\n// its unavoidable to bail out with a generic error message (e.g. when dragging in a malformed\n// ROS bag).\nimport { ReactNode } from \"react\";\n\nimport { reportError } from \"@foxglove/studio-base/reportError\";\nimport { AppError } from \"@foxglove/studio-base/util/errors\";\nimport { inWebWorker } from \"@foxglove/studio-base/util/workers\";\n\nexport type NotificationType = \"app\" | \"user\";\nexport type DetailsType = string | Error | ReactNode;\nexport type NotificationSeverity = \"error\" | \"warn\" | \"info\";\nexport type NotificationHandler = (\n  message: string,\n  details: DetailsType,\n  type: NotificationType,\n  severity: NotificationSeverity,\n) => void;\nexport type NotificationMessage = {\n  readonly id?: string;\n  readonly message: string;\n  readonly details: DetailsType;\n  readonly subText?: string;\n  readonly created?: Date;\n  readonly severity: NotificationSeverity;\n};\n\nconst defaultNotificationHandler: NotificationHandler = (\n  message: string,\n  details: DetailsType,\n  type: NotificationType,\n  severity: NotificationSeverity,\n): void => {\n  if (inWebWorker()) {\n    const webWorkerError =\n      \"Web Worker has uninitialized sendNotification function; this means this error message cannot show up in the UI (so we show it here in the console instead).\";\n    if (process.env.NODE_ENV === \"test\") {\n      throw new Error(webWorkerError);\n    } else {\n      const consoleFn =\n        severity === \"error\" ? console.error : severity === \"warn\" ? console.warn : console.info;\n      consoleFn(webWorkerError, message, details, type);\n    }\n    return;\n  } else if (process.env.NODE_ENV === \"test\") {\n    return;\n  }\n  console.error(\"Notification before error display is mounted\", message, details, type);\n};\n\nlet addNotification: NotificationHandler = defaultNotificationHandler;\n\nexport function setNotificationHandler(handler: NotificationHandler): void {\n  if (addNotification !== defaultNotificationHandler) {\n    throw new Error(\"Tried to overwrite existing NotificationHandler\");\n  }\n  addNotification = handler;\n}\n\nexport function unsetNotificationHandler(): void {\n  if (addNotification === defaultNotificationHandler) {\n    throw new Error(\"Tried to unset NotificationHandler but it was already the default\");\n  }\n  addNotification = defaultNotificationHandler;\n}\n\n// Call this to add an notification to the application nav bar error component if mounted.\n// If the component is not mounted, use the console as a fallback.\nexport default function sendNotification(\n  message: string,\n  details: DetailsType,\n  type: NotificationType,\n  severity: NotificationSeverity,\n): void {\n  // We only want to send non-user errors and warnings to Sentry\n  if (type === \"app\") {\n    if (severity === \"warn\" || severity === \"error\") {\n      reportError(new AppError(details, message));\n    }\n  }\n\n  addNotification(message, details, type, severity);\n}\n\nsendNotification.expectCalledDuringTest = (): void => {\n  throw new Error(\"Should be overriden in setupTestFramework.ts\");\n};\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// Overwrite the default fetch error handler with one that catches one message: \"Failed to fetch\". We see this often\n// in our logs and want the logs to more fully reflect the error message.\nexport default function overwriteFetch(): void {\n  const originalFetch = global.fetch;\n  global.fetch = async (url: RequestInfo | URL, init?: RequestInit) => {\n    // Use this replacement error instead of the original one, because this one will have the correct stack trace.\n    const replacementError = new TypeError(`Failed to fetch: ${url}`);\n    return await originalFetch(url, init).catch((error) => {\n      if (error.message === \"Failed to fetch\") {\n        throw replacementError;\n      }\n      throw error;\n    });\n  };\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2020-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport {\n  setNotificationHandler,\n  DetailsType,\n  NotificationType,\n  NotificationSeverity,\n} from \"@foxglove/studio-base/util/sendNotification\";\n\nimport Rpc from \"./Rpc\";\nimport overwriteFetch from \"./overwriteFetch\";\n\nexport function setupSendReportNotificationHandler(rpc: Rpc): void {\n  setNotificationHandler(\n    (\n      message: string,\n      details: DetailsType,\n      type: NotificationType,\n      severity: NotificationSeverity,\n    ) => {\n      if (!(details instanceof Error || typeof details === \"string\")) {\n        console.warn(\"Invalid Error type\", details);\n      }\n      void rpc.send(\"sendNotification\", {\n        message,\n        details: details instanceof Error ? details.toString() : details,\n        type,\n        severity,\n      });\n    },\n  );\n}\n\nexport function setupWorker(rpc: Rpc): void {\n  if (process.env.NODE_ENV !== \"test\") {\n    setupSendReportNotificationHandler(rpc);\n    overwriteFetch();\n  }\n}\n","import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\n// logger channel -> logger\nconst channels = new Map<string, Logger>();\n\nconst noop = () => {};\n\ntype LogLevel = \"error\" | \"warn\" | \"info\" | \"debug\";\n\nclass Logger {\n  // default logger has an empty name\n  public static default = new Logger(\"\");\n\n  #name: string;\n\n  // all new loggers are created from the default logger\n  private constructor(name: string) {\n    this.#name = name;\n    this.setLevel(\"debug\");\n    channels.set(name, this);\n  }\n\n  // fully qualified name for the logger\n  public name(): string {\n    return this.#name;\n  }\n\n  /**\n   * Return true if the level would display when logged by the logger\n   */\n  public isLevelOn(level: LogLevel): boolean {\n    switch (level) {\n      case \"debug\":\n        return this.debug !== noop;\n      case \"info\":\n        return this.info !== noop;\n      case \"warn\":\n        return this.warn !== noop;\n      case \"error\":\n        return this.error !== noop;\n    }\n    return false;\n  }\n\n  /**\n   *\n   * @returns the current log level\n   */\n  public getLevel(): LogLevel {\n    if (this.debug !== noop) {\n      return \"debug\";\n    } else if (this.info !== noop) {\n      return \"info\";\n    } else if (this.warn !== noop) {\n      return \"warn\";\n    } else {\n      return \"error\";\n    }\n  }\n\n  /**\n   * Set the allowed log level. Any log calls with severity \"below\" this one will be ignored.\n   *\n   * i.e. setting a level of \"warn\" will ignore any \"info\" or \"debug\" logs\n   */\n  public setLevel(level: LogLevel): void {\n    this.debug = noop;\n    this.info = noop;\n    this.warn = noop;\n    this.error = noop;\n\n    switch (level) {\n      case \"debug\":\n        this.debug = console.debug.bind(global.console);\n        this.info = console.info.bind(global.console);\n        this.warn = console.warn.bind(global.console);\n        this.error = console.error.bind(global.console);\n        break;\n      case \"info\":\n        this.info = console.info.bind(global.console);\n        this.warn = console.warn.bind(global.console);\n        this.error = console.error.bind(global.console);\n        break;\n      case \"warn\":\n        this.warn = console.warn.bind(global.console);\n        this.error = console.error.bind(global.console);\n        break;\n      case \"error\":\n        this.error = console.error.bind(global.console);\n        break;\n    }\n  }\n\n  public debug(..._args: unknown[]): void {}\n  public info(..._args: unknown[]): void {}\n  public warn(..._args: unknown[]): void {}\n  public error(..._args: unknown[]): void {}\n\n  // create a new logger under this logger's namespace\n  public getLogger(name: string): Logger {\n    const shortName = name.replace(/^.+\\.(asar|webpack)[\\\\/\\\\]/, \"\").replace(/^(\\.\\.\\/)+/, \"\");\n    const channelName = this.#name.length > 0 ? `${this.#name}.${shortName}` : shortName;\n    const existing = channels.get(channelName);\n    if (existing) {\n      return existing;\n    }\n\n    const logger = new Logger(channelName);\n    channels.set(channelName, logger);\n    return logger;\n  }\n\n  // get all logging channels\n  public channels(): Logger[] {\n    return Array.from(channels.values());\n  }\n}\n\nfunction toLogLevel(maybeLevel: string): LogLevel {\n  switch (maybeLevel) {\n    case \"debug\":\n      return \"debug\";\n    case \"info\":\n      return \"info\";\n    case \"warn\":\n      return \"warn\";\n    case \"error\":\n      return \"error\";\n    default:\n      return \"warn\";\n  }\n}\n\nexport default Logger.default;\nexport { Logger, toLogLevel };\nexport type { LogLevel };\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\n/**\n * Casts a value to a possibly undefined value of a new type.\n */\nexport function maybeCast<T>(v: unknown): undefined | T {\n  return v as undefined | T;\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nexport const fonts = {\n  // We explicitly avoid fallback fonts (such as 'monospace') here to work around a bug in\n  // Chrome/Chromium on Windows that causes crashes when multiple Workers try to access fonts that\n  // have not yet been loaded. There is a race against the internal DirectWrite font cache which\n  // ends up crashing in DWriteFontFamily::GetFirstMatchingFont() or DWriteFont::Create().\n  //\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1261577\n  MONOSPACE: \"'IBM Plex Mono'\",\n  SANS_SERIF: \"'Inter'\",\n\n  // enable font features https://rsms.me/inter/lab\n  SANS_SERIF_FEATURE_SETTINGS: \"'cv08', 'cv10', 'tnum'\",\n  // contextual alternates create undesired changes in Chinese/Japanese\n  SANS_SERIF_FEATURE_SETTINGS_CJK: \"'tnum'\",\n};\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { Chart, ChartData, ChartOptions, ChartType } from \"chart.js\";\nimport type { Context as DatalabelContext } from \"chartjs-plugin-datalabels\";\nimport DatalabelPlugin from \"chartjs-plugin-datalabels\";\nimport { type Options as DatalabelsPluginOptions } from \"chartjs-plugin-datalabels/types/options\";\nimport EventEmitter from \"eventemitter3\";\n\nimport { Zoom as ZoomPlugin } from \"@foxglove/chartjs-plugin-zoom\";\nimport Logger from \"@foxglove/log\";\nimport { RpcElement, RpcScales } from \"@foxglove/studio-base/components/Chart/types\";\nimport { maybeCast } from \"@foxglove/studio-base/util/maybeCast\";\nimport { fonts } from \"@foxglove/studio-base/util/sharedStyleConstants\";\n\nconst log = Logger.getLogger(__filename);\n\nexport type InitOpts = {\n  id: string;\n  node: { canvas: HTMLCanvasElement };\n  type: ChartType;\n  data: ChartData<\"scatter\">;\n  options: ChartOptions;\n  devicePixelRatio: number;\n  fontLoaded: Promise<FontFace>;\n};\n\n// allows us to override the chart.ctx instance field which zoom plugin uses for adding event listeners\ntype MutableContext<T> = Omit<Chart, \"ctx\"> & { ctx: T };\n\nfunction addEventListener(emitter: EventEmitter) {\n  return (eventName: string, fn?: () => void) => {\n    const existing = emitter.listeners(eventName);\n    if (!fn || existing.includes(fn)) {\n      return;\n    }\n\n    emitter.on(eventName, fn);\n  };\n}\n\nfunction removeEventListener(emitter: EventEmitter) {\n  return (eventName: string, fn?: () => void) => {\n    if (fn) {\n      emitter.off(eventName, fn);\n    }\n  };\n}\n\ntype ZoomableChart = Chart & {\n  $zoom: {\n    panStartHandler(event: HammerInput): void;\n    panHandler(event: HammerInput): void;\n    panEndHandler(event: HammerInput): void;\n  };\n};\n\nexport default class ChartJSManager {\n  #chartInstance?: Chart;\n  #fakeNodeEvents = new EventEmitter();\n  #fakeDocumentEvents = new EventEmitter();\n  #lastDatalabelClickContext?: DatalabelContext;\n\n  public constructor(initOpts: InitOpts) {\n    log.info(`new ChartJSManager(id=${initOpts.id})`);\n    void this.init(initOpts);\n  }\n\n  public async init({\n    id,\n    node,\n    type,\n    data,\n    options,\n    devicePixelRatio,\n    fontLoaded,\n  }: InitOpts): Promise<void> {\n    const font = await fontLoaded;\n    log.debug(`ChartJSManager(${id}) init, default font \"${font.family}\" status=${font.status}`);\n\n    const fakeNode = {\n      addEventListener: addEventListener(this.#fakeNodeEvents),\n      removeEventListener: removeEventListener(this.#fakeNodeEvents),\n      ownerDocument: {\n        addEventListener: addEventListener(this.#fakeDocumentEvents),\n        removeEventListener: removeEventListener(this.#fakeDocumentEvents),\n      },\n    };\n\n    const origZoomStart = ZoomPlugin.start?.bind(ZoomPlugin);\n    ZoomPlugin.start = (chartInstance: MutableContext<unknown>, args, pluginOptions) => {\n      // swap the canvas with our fake dom node canvas to support zoom plugin addEventListener\n      const ctx = chartInstance.ctx;\n      chartInstance.ctx = {\n        canvas: fakeNode,\n      };\n      const res = origZoomStart?.(chartInstance as Chart, args, pluginOptions);\n      chartInstance.ctx = ctx;\n      return res;\n    };\n\n    const fullOptions: ChartOptions = {\n      ...this.#addFunctionsToConfig(options),\n      devicePixelRatio,\n      font: { family: fonts.MONOSPACE },\n      // we force responsive off since we manually trigger width/height updates on the chart\n      // responsive mode does not work properly with offscreen canvases and retina device pixel ratios\n      // it results in a run-away canvas that keeps doubling in size!\n      responsive: false,\n    };\n\n    const chartInstance = new Chart(node, {\n      type,\n      data,\n      options: fullOptions,\n      plugins: [DatalabelPlugin, ZoomPlugin],\n    });\n\n    ZoomPlugin.start = origZoomStart;\n    this.#chartInstance = chartInstance;\n  }\n\n  public wheel(event: WheelEvent): RpcScales {\n    const target = event.target as Element & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    this.#fakeNodeEvents.emit(\"wheel\", event);\n    return this.getScales();\n  }\n\n  public mousedown(event: MouseEvent): RpcScales {\n    const target = event.target as Element & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    this.#fakeNodeEvents.emit(\"mousedown\", event);\n    return this.getScales();\n  }\n\n  public mousemove(event: MouseEvent): RpcScales {\n    const target = event.target as Element & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    this.#fakeNodeEvents.emit(\"mousemove\", event);\n    return this.getScales();\n  }\n\n  public mouseup(event: MouseEvent): RpcScales {\n    const target = event.target as Element & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    this.#fakeDocumentEvents.emit(\"mouseup\", event);\n    return this.getScales();\n  }\n\n  public panstart(event: HammerInput): RpcScales {\n    const target = event.target as HTMLElement & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    maybeCast<ZoomableChart>(this.#chartInstance)?.$zoom.panStartHandler(event);\n    return this.getScales();\n  }\n\n  public panmove(event: HammerInput): RpcScales {\n    const target = event.target as HTMLElement & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    maybeCast<ZoomableChart>(this.#chartInstance)?.$zoom.panHandler(event);\n    return this.getScales();\n  }\n\n  public panend(event: HammerInput): RpcScales {\n    const target = event.target as HTMLElement & { boundingClientRect: DOMRect };\n    target.getBoundingClientRect = () => target.boundingClientRect;\n    maybeCast<ZoomableChart>(this.#chartInstance)?.$zoom.panEndHandler(event);\n    return this.getScales();\n  }\n\n  public update({\n    options,\n    width,\n    height,\n    isBoundsReset,\n    data,\n  }: {\n    options?: ChartOptions;\n    width?: number;\n    height?: number;\n    isBoundsReset: boolean;\n    data?: ChartData<\"scatter\">;\n  }): RpcScales {\n    const instance = this.#chartInstance;\n    if (instance == undefined) {\n      return {};\n    }\n\n    if (options != undefined) {\n      instance.options.plugins = this.#addFunctionsToConfig(options).plugins;\n\n      // Let the chart manage its own scales unless we've been told to reset or if an explicit\n      // min and max have been specified.\n      const scales = options.scales ?? {};\n      if (\n        (isBoundsReset || (scales.x?.min != undefined && scales.x.max != undefined)) &&\n        instance.options.scales\n      ) {\n        instance.options.scales.x = scales.x;\n      }\n      if (\n        (isBoundsReset || (scales.y?.min != undefined && scales.y.max != undefined)) &&\n        instance.options.scales\n      ) {\n        instance.options.scales.y = scales.y;\n      }\n    }\n\n    if (width != undefined || height != undefined) {\n      let shouldResize = false;\n      const wholeWidth = Math.floor(width ?? instance.width);\n      const wholeHeight = Math.floor(height ?? instance.height);\n\n      // Internally chartjs rounds width and height before updating the instance.\n      // If our update has decimal width and height that will cause a resize on every update.\n      // To avoid this we truncate the decimal from the width and height to present chartjs with whole\n      // numbers.\n      if (width != undefined) {\n        if (Math.abs(instance.width - wholeWidth) > Number.EPSILON) {\n          instance.canvas.width = wholeWidth;\n          shouldResize = true;\n        }\n      }\n\n      if (height != undefined) {\n        if (Math.abs(instance.height - wholeHeight) > Number.EPSILON) {\n          instance.canvas.height = wholeHeight;\n          shouldResize = true;\n        }\n      }\n\n      if (shouldResize) {\n        instance.resize(wholeWidth, wholeHeight);\n      }\n    }\n\n    if (data != undefined) {\n      instance.data = data;\n    }\n\n    // While the chartjs API doesn't indicate update should be called after resize, in practice\n    // we've found that performing a resize after an update sometimes results in a blank chart.\n    //\n    // NOTE: \"none\" disables animations - this is important for chart performance because we update\n    // the entire data set which does not preserve history for the chart animations\n    instance.update(\"none\");\n\n    return this.getScales();\n  }\n\n  public destroy(): void {\n    this.#chartInstance?.destroy();\n  }\n\n  public getElementsAtEvent({ event }: { event: MouseEvent }): RpcElement[] {\n    const ev = {\n      native: true,\n      x: event.clientX,\n      y: event.clientY,\n    };\n\n    // ev is cast to any because the typings for getElementsAtEventForMode are wrong\n    // ev is specified as a dom Event - but the implementation does not require it for the basic platform\n    const elements =\n      this.#chartInstance?.getElementsAtEventForMode(\n        ev as unknown as Event,\n        this.#chartInstance.options.interaction?.mode ?? \"intersect\",\n        this.#chartInstance.options.interaction ?? {},\n        false,\n      ) ?? [];\n\n    const out = new Array<RpcElement>();\n\n    for (const element of elements) {\n      const data = (this.#chartInstance?.data as ChartData<\"scatter\"> | undefined)?.datasets[\n        element.datasetIndex\n      ]?.data[element.index];\n      if (data == undefined || typeof data === \"number\") {\n        continue;\n      }\n\n      // turn into an object we can send over the rpc\n      out.push({\n        data,\n        datasetIndex: element.datasetIndex,\n        index: element.index,\n        view: {\n          x: element.element.x,\n          y: element.element.y,\n        },\n      });\n    }\n\n    // sort elements by proximity to the cursor\n    out.sort((itemA, itemB) => {\n      const dxA = event.clientX - itemA.view.x;\n      const dyA = event.clientY - itemA.view.y;\n      const dxB = event.clientX - itemB.view.x;\n      const dyB = event.clientY - itemB.view.y;\n      const distSquaredA = dxA * dxA + dyA * dyA;\n      const distSquaredB = dxB * dxB + dyB * dyB;\n\n      return distSquaredA - distSquaredB;\n    });\n\n    return out;\n  }\n\n  public getDatalabelAtEvent({ event }: { event: Event }): unknown {\n    this.#chartInstance?.notifyPlugins(\"beforeEvent\", { event });\n\n    // clear the stored click context - we have consumed it\n    const context = this.#lastDatalabelClickContext;\n    this.#lastDatalabelClickContext = undefined;\n\n    return context?.dataset.data[context.dataIndex];\n  }\n\n  // get the current chart scales in an rpc friendly format\n  // all rpc methods return the current chart scale since that is the main thing that could change automatically\n  public getScales(): RpcScales {\n    const scales: RpcScales = {};\n\n    // fill our rpc scales - we only support x and y scales for now\n    const xScale = this.#chartInstance?.scales.x;\n    if (xScale) {\n      scales.x = {\n        pixelMin: xScale.left,\n        pixelMax: xScale.right,\n        min: xScale.min,\n        max: xScale.max,\n      };\n    }\n\n    const yScale = this.#chartInstance?.scales.y;\n    if (yScale) {\n      scales.y = {\n        pixelMin: yScale.bottom,\n        pixelMax: yScale.top,\n        min: yScale.min,\n        max: yScale.max,\n      };\n    }\n\n    return scales;\n  }\n\n  // We cannot serialize functions over rpc, we add options that require functions here\n  #addFunctionsToConfig(config: ChartOptions): typeof config {\n    const datalabelsOptions = config.plugins?.datalabels as DatalabelsPluginOptions | undefined;\n    if (datalabelsOptions) {\n      // process _click_ events to get the label we clicked on\n      // this is because datalabels does not export any public methods to lookup the clicked label\n      // maybe we contribute a patch upstream with the explanation for web-worker use\n      datalabelsOptions.listeners = {\n        click: (context: DatalabelContext) => {\n          this.#lastDatalabelClickContext = context;\n        },\n      };\n\n      // Only display labels for datapoints that include a \"label\" property\n      datalabelsOptions.formatter = (value: { label?: string }, _context: unknown) => {\n        // Return \"null\" if we don't want this label to be displayed.\n        // Returning \"undefined\" falls back to the default formatting and will display\n        // eslint-disable-next-line no-restricted-syntax\n        return value.label ?? null;\n      };\n\n      // Override color so that it can be set per-dataset.\n      const staticColor = datalabelsOptions.color ?? \"white\";\n      datalabelsOptions.color = (context: DatalabelContext) => {\n        const value = context.dataset.data[context.dataIndex];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (value as any)?.labelColor ?? staticColor;\n      };\n    }\n\n    return config;\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport {\n  CategoryScale,\n  Chart,\n  ChartData,\n  ChartOptions,\n  Filler,\n  Legend,\n  LinearScale,\n  LineController,\n  LineElement,\n  PointElement,\n  ScatterController,\n  Ticks,\n  TimeScale,\n  TimeSeriesScale,\n  Title,\n  Tooltip,\n} from \"chart.js\";\nimport AnnotationPlugin from \"chartjs-plugin-annotation\";\n\nimport PlexMono from \"@foxglove/studio-base/styles/assets/PlexMono.woff2\";\nimport Rpc from \"@foxglove/studio-base/util/Rpc\";\nimport { setupWorker } from \"@foxglove/studio-base/util/RpcWorkerUtils\";\n\nimport ChartJSManager, { InitOpts } from \"./ChartJSManager\";\n\ntype RpcEvent<EventType> = { id: string; event: EventType };\n\nexport type ChartUpdateMessage = {\n  data?: ChartData<\"scatter\">;\n  height?: number;\n  options?: ChartOptions;\n  isBoundsReset: boolean;\n  width?: number;\n};\n\ntype RpcUpdateEvent = {\n  id: string;\n} & ChartUpdateMessage;\n\n// Explicitly load the \"Plex Mono\" font, since custom fonts from the main renderer are not inherited\n// by web workers. This is required to draw \"Plex Mono\" on an OffscreenCanvas, and it also appears\n// to fix a crash a large portion of Windows users were seeing where the rendering thread would\n// crash in skia code related to DirectWrite font loading when the system display scaling is set\n// >100%. For more info on this crash, see util/waitForFonts.ts.\nasync function loadDefaultFont(): Promise<FontFace> {\n  const fontFace = new FontFace(\"IBM Plex Mono\", `url(${PlexMono}) format('woff2')`);\n  if (typeof WorkerGlobalScope !== \"undefined\" && self instanceof WorkerGlobalScope) {\n    (self as unknown as WorkerGlobalScope).fonts.add(fontFace);\n  } else {\n    document.fonts.add(fontFace);\n  }\n  return await fontFace.load();\n}\n\n// Immediately start font loading in the Worker thread. Each ChartJSManager we instantiate will\n// wait on this promise before instantiating a new Chart instance, which kicks off rendering\nconst fontLoaded = loadDefaultFont();\n\n// Register the features we support globally on our chartjs instance\n// Note: Annotation plugin must be registered, it does not work _inline_ (i.e. per instance)\nChart.register(\n  LineElement,\n  PointElement,\n  LineController,\n  ScatterController,\n  CategoryScale,\n  LinearScale,\n  TimeScale,\n  TimeSeriesScale,\n  Filler,\n  Legend,\n  Title,\n  Tooltip,\n  AnnotationPlugin,\n);\n\nconst fixedNumberFormat = new Intl.NumberFormat(undefined, {\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n/**\n * Adjust the `ticks` of the chart options to ensure the first/last x labels remain a constant\n * width. See https://github.com/foxglove/studio/issues/2926\n *\n * Because this requires passing a `callback` function for the tick options, this has to be done in\n * the worker, since functions can't be sent via postMessage.\n */\nfunction fixTicks(args: RpcUpdateEvent): RpcUpdateEvent {\n  const xScale = args.options?.scales?.x;\n\n  if (xScale?.ticks) {\n    xScale.ticks.callback = function (value, index, ticks) {\n      // use a fixed formatter for the first/last ticks\n      if (index === 0 || index === ticks.length - 1) {\n        return fixedNumberFormat.format(value as number);\n      }\n      // otherwise use chart.js's default formatter\n      return Ticks.formatters.numeric.apply(this, [value as number, index, ticks]);\n    };\n  }\n  return args;\n}\n\n// Since we use a capped number of web-workers, a single web-worker may be running multiple chartjs instances\n// The ChartJsWorkerMux forwards an rpc request for a specific chartjs instance id to the appropriate instance\nexport default class ChartJsMux {\n  readonly #rpc: Rpc;\n  readonly #managers = new Map<string, ChartJSManager>();\n\n  public constructor(rpc: Rpc) {\n    this.#rpc = rpc;\n\n    if (typeof WorkerGlobalScope !== \"undefined\" && self instanceof WorkerGlobalScope) {\n      setupWorker(this.#rpc);\n    }\n\n    // create a new chartjs instance\n    // this must be done before sending any other rpc requests to the instance\n    rpc.receive(\"initialize\", (args: InitOpts) => {\n      args.fontLoaded = fontLoaded;\n      const manager = new ChartJSManager(args);\n      this.#managers.set(args.id, manager);\n      return manager.getScales();\n    });\n    rpc.receive(\"wheel\", (args: RpcEvent<WheelEvent>) => this.#getChart(args.id).wheel(args.event));\n    rpc.receive(\"mousedown\", (args: RpcEvent<MouseEvent>) =>\n      this.#getChart(args.id).mousedown(args.event),\n    );\n    rpc.receive(\"mousemove\", (args: RpcEvent<MouseEvent>) =>\n      this.#getChart(args.id).mousemove(args.event),\n    );\n    rpc.receive(\"mouseup\", (args: RpcEvent<MouseEvent>) =>\n      this.#getChart(args.id).mouseup(args.event),\n    );\n    rpc.receive(\"panstart\", (args: RpcEvent<HammerInput>) =>\n      this.#getChart(args.id).panstart(args.event),\n    );\n    rpc.receive(\"panend\", (args: RpcEvent<HammerInput>) =>\n      this.#getChart(args.id).panend(args.event),\n    );\n    rpc.receive(\"panmove\", (args: RpcEvent<HammerInput>) =>\n      this.#getChart(args.id).panmove(args.event),\n    );\n\n    rpc.receive(\"update\", (args: RpcUpdateEvent) => this.#getChart(args.id).update(fixTicks(args)));\n    rpc.receive(\"destroy\", (args: RpcEvent<void>) => {\n      const manager = this.#managers.get(args.id);\n      if (manager) {\n        manager.destroy();\n        this.#managers.delete(args.id);\n      }\n    });\n    rpc.receive(\"getElementsAtEvent\", (args: RpcEvent<MouseEvent>) =>\n      this.#getChart(args.id).getElementsAtEvent(args),\n    );\n    rpc.receive(\"getDatalabelAtEvent\", (args: RpcEvent<Event>) =>\n      this.#getChart(args.id).getDatalabelAtEvent(args),\n    );\n  }\n\n  #getChart(id: string): ChartJSManager {\n    const chart = this.#managers.get(id);\n    if (!chart) {\n      throw new Error(`Could not find chart with id ${id}`);\n    }\n    return chart;\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// Entrypoint for chartjs worker\n\nimport Rpc, { Channel } from \"@foxglove/studio-base/util/Rpc\";\nimport { inWebWorker } from \"@foxglove/studio-base/util/workers\";\n\nimport ChartJsMux from \"./ChartJsMux\";\n\nif (inWebWorker()) {\n  // Since we use a single _web_ target for our bundle, _global_ referrs to the window global\n  // rather than WorkerGlobalScope. We cast to the value we know it actually is.\n  // #FG-64\n  new ChartJsMux(new Rpc(global as unknown as Channel));\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [8992], () => (__webpack_require__(25764)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"studio-\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t5764: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(8992).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","clearEvent","EventEmitter","names","events","name","handlers","i","l","ee","listeners","a1","a2","a3","a4","a5","len","args","length","j","module","RESPONSE","ERROR","createLinkedChannels","local","data","_transfer","ev","remote","Rpc","#channel","#messageId","#pendingCallbacks","#receivers","channel","#onChannelMessage","id","topic","resolve","handler","result","transferables","message","err","callback","transfer","reject","info","error","inWebWorker","inSharedWorker","enforceFetchIsBlocked","canFetch","globalWithHandler","reportError","setReportErrorHandler","AppError","details","extraInfo","stringifiedExtraInfo","defaultNotificationHandler","type","severity","addNotification","setNotificationHandler","unsetNotificationHandler","sendNotification","overwriteFetch","originalFetch","url","init","replacementError","setupSendReportNotificationHandler","rpc","setupWorker","channels","noop","Logger","#name","level","_args","shortName","channelName","existing","logger","toLogLevel","maybeLevel","maybeCast","v","fonts","log","addEventListener","eventName","removeEventListener","ChartJSManager","#chartInstance","#fakeNodeEvents","#fakeDocumentEvents","#lastDatalabelClickContext","initOpts","node","options","devicePixelRatio","fontLoaded","font","fakeNode","origZoomStart","chartInstance","pluginOptions","ctx","res","fullOptions","#addFunctionsToConfig","target","width","height","isBoundsReset","instance","scales","shouldResize","wholeWidth","wholeHeight","elements","out","element","itemA","itemB","dxA","dyA","dxB","dyB","distSquaredA","distSquaredB","xScale","yScale","config","datalabelsOptions","value","_context","staticColor","loadDefaultFont","fontFace","fixedNumberFormat","fixTicks","index","ticks","ChartJsMux","#rpc","#managers","manager","#getChart","chart","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__webpack_exports__","deferred","chunkIds","priority","notFulfilled","fulfilled","key","r","exports","definition","chunkId","promises","obj","prop","scriptUrl","document","scripts","installedChunks","installChunk","moreModules","runtime","parentChunkLoadingFunction","chunkLoadingGlobal","next"],"sourceRoot":""}