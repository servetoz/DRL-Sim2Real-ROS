{"version":3,"file":"studio-9596.js","mappings":"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","sources":["webpack:///../../node_modules/react-monaco-editor/lib/utils.js","webpack:///../../node_modules/react-monaco-editor/lib/diff.js","webpack:///../../node_modules/react-monaco-editor/lib/editor.js","webpack:///../../packages/studio-base/src/panels/NodePlayground/getPrettifiedCode.ts","webpack:///../../node_modules/chromatic/isChromatic.mjs","webpack:///../../packages/studio-base/src/stories/inScreenshotTests.ts","webpack:///../../packages/studio-base/src/panels/NodePlayground/theme/index.ts","webpack:///../../packages/studio-base/src/panels/NodePlayground/theme/vs-studio-dark.ts","webpack:///../../packages/studio-base/src/panels/NodePlayground/theme/vs-studio-light.ts","webpack:///../../packages/studio-base/src/panels/NodePlayground/Editor.tsx"],"sourcesContent":["export function processSize(size) {\n    return !/^\\d+$/.test(size) ? size : \"\".concat(size, \"px\");\n}\nexport function noop() { }\n//# sourceMappingURL=utils.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as React from \"react\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { noop, processSize } from \"./utils\";\nfunction MonacoDiffEditor(_a) {\n    var width = _a.width, height = _a.height, value = _a.value, defaultValue = _a.defaultValue, language = _a.language, theme = _a.theme, options = _a.options, overrideServices = _a.overrideServices, editorWillMount = _a.editorWillMount, editorDidMount = _a.editorDidMount, editorWillUnmount = _a.editorWillUnmount, onChange = _a.onChange, className = _a.className, original = _a.original;\n    var containerElement = useRef(null);\n    var editor = useRef(null);\n    var _subscription = useRef(null);\n    var __prevent_trigger_change_event = useRef(null);\n    var fixedWidth = processSize(width);\n    var fixedHeight = processSize(height);\n    var style = useMemo(function () { return ({\n        width: fixedWidth,\n        height: fixedHeight,\n    }); }, [fixedWidth, fixedHeight]);\n    var handleEditorWillMount = function () {\n        var finalOptions = editorWillMount(monaco);\n        return finalOptions || {};\n    };\n    var handleEditorDidMount = function () {\n        editorDidMount(editor.current, monaco);\n        var modified = editor.current.getModel().modified;\n        _subscription.current = modified.onDidChangeContent(function (event) {\n            if (!__prevent_trigger_change_event.current) {\n                onChange(modified.getValue(), event);\n            }\n        });\n    };\n    var handleEditorWillUnmount = function () {\n        editorWillUnmount(editor.current, monaco);\n    };\n    var initModels = function () {\n        var finalValue = value != null ? value : defaultValue;\n        var originalModel = monaco.editor.createModel(original, language);\n        var modifiedModel = monaco.editor.createModel(finalValue, language);\n        editor.current.setModel({\n            original: originalModel,\n            modified: modifiedModel,\n        });\n    };\n    useEffect(function () {\n        if (containerElement.current) {\n            // Before initializing monaco editor\n            handleEditorWillMount();\n            editor.current = monaco.editor.createDiffEditor(containerElement.current, __assign(__assign(__assign({}, (className ? { extraEditorClassName: className } : {})), options), (theme ? { theme: theme } : {})), overrideServices);\n            // After initializing monaco editor\n            initModels();\n            handleEditorDidMount();\n        }\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    useEffect(function () {\n        if (editor.current) {\n            editor.current.updateOptions(__assign(__assign({}, (className ? { extraEditorClassName: className } : {})), options));\n        }\n    }, [className, options]);\n    useEffect(function () {\n        if (editor.current) {\n            editor.current.layout();\n        }\n    }, [width, height]);\n    useEffect(function () {\n        if (editor.current) {\n            var _a = editor.current.getModel(), originalEditor = _a.original, modified = _a.modified;\n            monaco.editor.setModelLanguage(originalEditor, language);\n            monaco.editor.setModelLanguage(modified, language);\n        }\n    }, [language]);\n    useEffect(function () {\n        if (editor.current) {\n            var modified = editor.current.getModel().modified;\n            __prevent_trigger_change_event.current = true;\n            // modifiedEditor is not in the public API for diff editors\n            editor.current.getModifiedEditor().pushUndoStop();\n            // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n            // @ts-expect-error\n            modified.pushEditOperations([], [\n                {\n                    range: modified.getFullModelRange(),\n                    text: value,\n                },\n            ]);\n            // modifiedEditor is not in the public API for diff editors\n            editor.current.getModifiedEditor().pushUndoStop();\n            __prevent_trigger_change_event.current = false;\n        }\n    }, [value]);\n    useEffect(function () {\n        monaco.editor.setTheme(theme);\n    }, [theme]);\n    useEffect(function () {\n        if (editor.current) {\n            var originalEditor = editor.current.getModel().original;\n            if (original !== originalEditor.getValue()) {\n                originalEditor.setValue(original);\n            }\n        }\n    }, [original]);\n    useEffect(function () { return function () {\n        if (editor.current) {\n            handleEditorWillUnmount();\n            editor.current.dispose();\n            var _a = editor.current.getModel(), originalEditor = _a.original, modified = _a.modified;\n            if (originalEditor) {\n                originalEditor.dispose();\n            }\n            if (modified) {\n                modified.dispose();\n            }\n        }\n        if (_subscription.current) {\n            _subscription.current.dispose();\n        }\n    }; }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    return (React.createElement(\"div\", { ref: containerElement, style: style, className: \"react-monaco-editor-container\" }));\n}\nMonacoDiffEditor.defaultProps = {\n    width: \"100%\",\n    height: \"100%\",\n    original: null,\n    value: null,\n    defaultValue: \"\",\n    language: \"javascript\",\n    theme: null,\n    options: {},\n    overrideServices: {},\n    editorWillMount: noop,\n    editorDidMount: noop,\n    editorWillUnmount: noop,\n    onChange: noop,\n    className: null,\n};\nMonacoDiffEditor.displayName = \"MonacoDiffEditor\";\nexport default MonacoDiffEditor;\n//# sourceMappingURL=diff.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as React from \"react\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { noop, processSize } from \"./utils\";\nfunction MonacoEditor(_a) {\n    var width = _a.width, height = _a.height, value = _a.value, defaultValue = _a.defaultValue, language = _a.language, theme = _a.theme, options = _a.options, overrideServices = _a.overrideServices, editorWillMount = _a.editorWillMount, editorDidMount = _a.editorDidMount, editorWillUnmount = _a.editorWillUnmount, onChange = _a.onChange, className = _a.className;\n    var containerElement = useRef(null);\n    var editor = useRef(null);\n    var _subscription = useRef(null);\n    var __prevent_trigger_change_event = useRef(null);\n    var fixedWidth = processSize(width);\n    var fixedHeight = processSize(height);\n    var style = useMemo(function () { return ({\n        width: fixedWidth,\n        height: fixedHeight,\n    }); }, [fixedWidth, fixedHeight]);\n    var handleEditorWillMount = function () {\n        var finalOptions = editorWillMount(monaco);\n        return finalOptions || {};\n    };\n    var handleEditorDidMount = function () {\n        editorDidMount(editor.current, monaco);\n        _subscription.current = editor.current.onDidChangeModelContent(function (event) {\n            if (!__prevent_trigger_change_event.current) {\n                onChange(editor.current.getValue(), event);\n            }\n        });\n    };\n    var handleEditorWillUnmount = function () {\n        editorWillUnmount(editor.current, monaco);\n    };\n    var initMonaco = function () {\n        var finalValue = value !== null ? value : defaultValue;\n        if (containerElement.current) {\n            // Before initializing monaco editor\n            var finalOptions = __assign(__assign({}, options), handleEditorWillMount());\n            editor.current = monaco.editor.create(containerElement.current, __assign(__assign(__assign({ value: finalValue, language: language }, (className ? { extraEditorClassName: className } : {})), finalOptions), (theme ? { theme: theme } : {})), overrideServices);\n            // After initializing monaco editor\n            handleEditorDidMount();\n        }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(initMonaco, []);\n    useEffect(function () {\n        if (editor.current) {\n            if (value === editor.current.getValue()) {\n                return;\n            }\n            var model = editor.current.getModel();\n            __prevent_trigger_change_event.current = true;\n            editor.current.pushUndoStop();\n            // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n            model.pushEditOperations([], [\n                {\n                    range: model.getFullModelRange(),\n                    text: value,\n                },\n            ], undefined);\n            editor.current.pushUndoStop();\n            __prevent_trigger_change_event.current = false;\n        }\n    }, [value]);\n    useEffect(function () {\n        if (editor.current) {\n            var model = editor.current.getModel();\n            monaco.editor.setModelLanguage(model, language);\n        }\n    }, [language]);\n    useEffect(function () {\n        if (editor.current) {\n            // Don't pass in the model on update because monaco crashes if we pass the model\n            // a second time. See https://github.com/microsoft/monaco-editor/issues/2027\n            var _model = options.model, optionsWithoutModel = __rest(options, [\"model\"]);\n            editor.current.updateOptions(__assign(__assign({}, (className ? { extraEditorClassName: className } : {})), optionsWithoutModel));\n        }\n    }, [className, options]);\n    useEffect(function () {\n        if (editor.current) {\n            editor.current.layout();\n        }\n    }, [width, height]);\n    useEffect(function () {\n        monaco.editor.setTheme(theme);\n    }, [theme]);\n    useEffect(function () { return function () {\n        if (editor.current) {\n            handleEditorWillUnmount();\n            editor.current.dispose();\n            var model = editor.current.getModel();\n            if (model) {\n                model.dispose();\n            }\n        }\n        if (_subscription.current) {\n            _subscription.current.dispose();\n        }\n    }; }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    return (React.createElement(\"div\", { ref: containerElement, style: style, className: \"react-monaco-editor-container\" }));\n}\nMonacoEditor.defaultProps = {\n    width: \"100%\",\n    height: \"100%\",\n    value: null,\n    defaultValue: \"\",\n    language: \"javascript\",\n    theme: null,\n    options: {},\n    overrideServices: {},\n    editorWillMount: noop,\n    editorDidMount: noop,\n    editorWillUnmount: noop,\n    onChange: noop,\n    className: null,\n};\nMonacoEditor.displayName = \"MonacoEditor\";\nexport default MonacoEditor;\n//# sourceMappingURL=editor.js.map","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2020-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// Takes in a string of Typescript code and returns beautified, formatted string of Typescript code\nasync function getPrettifiedCode(code: string): Promise<string> {\n  // use dynamic imports to avoid loading prettier unless the function is invoked\n  const prettier = await import(\"prettier/standalone\");\n  const parserPlugin = await import(\"prettier/parser-typescript\");\n\n  return prettier.format(code, { parser: \"typescript\", plugins: [parserPlugin] });\n}\n\nexport default getPrettifiedCode;\n","/* eslint-env browser */\n\nexport default function isChromatic(windowArg) {\n  const windowToCheck = windowArg || (typeof window !== 'undefined' && window);\n  return !!(\n    windowToCheck &&\n    (windowToCheck.navigator.userAgent.match(/Chromatic/) ||\n      windowToCheck.location.href.match(/chromatic=true/))\n  );\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport isChromatic from \"chromatic/isChromatic\";\n\nexport default function inScreenshotTests(): boolean {\n  // Integration tests and screenshot tests are not always in a headless Chrome, so need to check for a custom user\n  // agent.\n  return navigator.userAgent.includes(\"PuppeteerTestingChrome\") || isChromatic();\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\nimport * as monacoApi from \"monaco-editor/esm/vs/editor/editor.api\";\n\nimport vsStudioDarkTheme from \"./vs-studio-dark\";\nimport vsStudioLightTheme from \"./vs-studio-light\";\n\ntype Theme = {\n  name: string;\n  theme: monacoApi.editor.IStandaloneThemeData;\n};\n\nconst themes: readonly Theme[] = [\n  {\n    name: \"vs-studio-dark\",\n    theme: vsStudioDarkTheme,\n  },\n  {\n    name: \"vs-studio-light\",\n    theme: vsStudioLightTheme,\n  },\n];\n\nexport { themes };\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\n/* eslint-disable filenames/match-exported */\n\nimport * as monacoApi from \"monaco-editor/esm/vs/editor/editor.api\";\n\nconst theme: monacoApi.editor.IStandaloneThemeData = {\n  base: \"vs-dark\",\n  inherit: true,\n  rules: [\n    {\n      foreground: \"6c6783\",\n      token: \"comment\",\n    },\n    {\n      foreground: \"eba800\",\n      token: \"string\",\n    },\n    {\n      foreground: \"9987ff\",\n      token: \"constant.numeric\",\n    },\n    {\n      foreground: \"9987ff\",\n      token: \"constant.language\",\n    },\n    {\n      foreground: \"9987ff\",\n      token: \"constant.character\",\n    },\n    {\n      foreground: \"9987ff\",\n      token: \"constant.other\",\n    },\n    {\n      foreground: \"e05ffa\",\n      token: \"keyword\",\n    },\n    {\n      foreground: \"e05ffa\",\n      token: \"storage\",\n    },\n    {\n      foreground: \"45a5ff\",\n      fontStyle: \"italic\",\n      token: \"storage.type\",\n    },\n    {\n      foreground: \"6bd66f\",\n      fontStyle: \"underline\",\n      token: \"entity.name.class\",\n    },\n    {\n      foreground: \"6bd66f\",\n      fontStyle: \"italic underline\",\n      token: \"entity.other.inherited-class\",\n    },\n    {\n      foreground: \"6bd66f\",\n      token: \"entity.name.function\",\n    },\n    {\n      foreground: \"fc8942\",\n      fontStyle: \"italic\",\n      token: \"variable.parameter\",\n    },\n    {\n      foreground: \"db3553\",\n      token: \"entity.name.tag\",\n    },\n    {\n      foreground: \"6bd66f\",\n      token: \"entity.other.attribute-name\",\n    },\n    {\n      foreground: \"45a5ff\",\n      token: \"support.function\",\n    },\n    {\n      foreground: \"45a5ff\",\n      token: \"support.constant\",\n    },\n    {\n      foreground: \"45a5ff\",\n      fontStyle: \"italic\",\n      token: \"support.type\",\n    },\n    {\n      foreground: \"45a5ff\",\n      fontStyle: \"italic\",\n      token: \"support.class\",\n    },\n    {\n      foreground: \"f0f0f0\",\n      background: \"ff6b82\",\n      token: \"invalid\",\n    },\n    {\n      foreground: \"f0f0f0\",\n      background: \"6858f5\",\n      token: \"invalid.deprecated\",\n    },\n  ],\n  colors: {\n    \"editor.foreground\": \"#F7F7F3C4\",\n    \"editor.background\": \"#08080A\",\n    \"editor.selectionBackground\": \"#F7F7F326\",\n    \"editor.lineHighlightBackground\": \"#F7F7F31A\",\n    \"editorCursor.foreground\": \"#F7F7F3C4\",\n    \"editorWhitespace.foreground\": \"#3B3A32\",\n  },\n};\n\nexport default theme;\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\n/* eslint-disable filenames/match-exported */\n\nimport * as monacoApi from \"monaco-editor/esm/vs/editor/editor.api\";\n\nconst theme: monacoApi.editor.IStandaloneThemeData = {\n  base: \"vs\",\n  inherit: true,\n  rules: [\n    {\n      foreground: \"eefff8\",\n      background: \"2f8963\",\n      token: \"markup.inserted.diff\",\n    },\n    {\n      foreground: \"eefff8\",\n      background: \"2f8963\",\n      token: \"meta.diff.header.to-file\",\n    },\n    {\n      foreground: \"fff3ee\",\n      background: \"c86a44\",\n      token: \"markup.deleted.diff\",\n    },\n    {\n      foreground: \"fff3ee\",\n      background: \"c86a44\",\n      token: \"meta.diff.header.from-file\",\n    },\n    {\n      foreground: \"008000\",\n      token: \"comment\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"variable\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"keyword\",\n    },\n    {\n      foreground: \"a31515\",\n      token: \"constant.numeric\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"constant\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"constant.language\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"constant.language.boolean\",\n    },\n    {\n      foreground: \"a31515\",\n      token: \"string\",\n    },\n    {\n      foreground: \"26b31a\",\n      token: \"constant.character.escape\",\n    },\n    {\n      foreground: \"26b31a\",\n      token: \"string source\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"meta.preprocessor\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"keyword.control.import\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"entity.name.function\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"keyword.other.name-of-parameter.objc\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"entity.name.type\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"storage.type\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"storage.modifier\",\n    },\n    {\n      foreground: \"70727e\",\n      token: \"storage.type.method\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"support.function\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"support.class\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"support.type\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"support.constant\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"support.variable\",\n    },\n    {\n      foreground: \"687687\",\n      token: \"keyword.operator.js\",\n    },\n    {\n      background: \"e1a09f\",\n      token: \"invalid\",\n    },\n    {\n      background: \"ffd0d0\",\n      token: \"invalid.deprecated.trailing-whitespace\",\n    },\n    {\n      background: \"427ff530\",\n      token: \"text source\",\n    },\n    {\n      background: \"427ff530\",\n      token: \"string.unquoted\",\n    },\n    {\n      foreground: \"68685b\",\n      token: \"meta.xml-processing\",\n    },\n    {\n      foreground: \"68685b\",\n      token: \"declaration.xml-processing\",\n    },\n    {\n      foreground: \"a31515\",\n      token: \"meta.doctype\",\n    },\n    {\n      foreground: \"a31515\",\n      token: \"declaration.doctype\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"meta.tag\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"declaration.tag\",\n    },\n    {\n      foreground: \"a31515\",\n      token: \"entity.name.tag\",\n    },\n    {\n      foreground: \"ff0000\",\n      token: \"entity.other.attribute-name\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"string.quoted.double.xml\",\n    },\n    {\n      foreground: \"0000ff\",\n      token: \"string.quoted.double.html\",\n    },\n    {\n      foreground: \"0c07ff\",\n      token: \"markup.heading\",\n    },\n    {\n      foreground: \"000000\",\n      token: \"markup.quote\",\n    },\n    {\n      foreground: \"b90690\",\n      token: \"markup.list\",\n    },\n  ],\n  colors: {\n    \"editor.foreground\": \"#000000\",\n    \"editor.background\": \"#FFFFFF\",\n    \"editor.selectionBackground\": \"#9DA7C3\",\n    \"editor.lineHighlightBackground\": \"#00000012\",\n    \"editorCursor.foreground\": \"#000000\",\n    \"editorWhitespace.foreground\": \"#BFBFBF\",\n  },\n};\n\nexport default theme;\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { useTheme } from \"@mui/material\";\n// @ts-expect-error ICodeEditorService does not have type information in the monaco-editor package\nimport { ICodeEditorService } from \"monaco-editor/esm/vs/editor/browser/services/codeEditorService\";\nimport * as monacoApi from \"monaco-editor/esm/vs/editor/editor.api\";\n// @ts-expect-error StandaloneService does not have type information in the monaco-editor package\nimport { StandaloneServices } from \"monaco-editor/esm/vs/editor/standalone/browser/standaloneServices\";\nimport * as path from \"path\";\nimport { ReactElement, useCallback, useEffect, useRef } from \"react\";\nimport MonacoEditor, { EditorDidMount, EditorWillMount } from \"react-monaco-editor\";\nimport { useResizeDetector } from \"react-resize-detector\";\nimport { useLatest } from \"react-use\";\n\nimport getPrettifiedCode from \"@foxglove/studio-base/panels/NodePlayground/getPrettifiedCode\";\nimport { Script } from \"@foxglove/studio-base/panels/NodePlayground/script\";\nimport { getNodeProjectConfig } from \"@foxglove/studio-base/players/UserNodePlayer/nodeTransformerWorker/typescript/projectConfig\";\nimport inScreenshotTests from \"@foxglove/studio-base/stories/inScreenshotTests\";\nimport { DEFAULT_STUDIO_NODE_PREFIX } from \"@foxglove/studio-base/util/globalConstants\";\nimport { mightActuallyBePartial } from \"@foxglove/studio-base/util/mightActuallyBePartial\";\n\nimport { themes } from \"./theme\";\n\nconst codeEditorService = StandaloneServices.get(ICodeEditorService);\n\ntype CodeEditor = monacoApi.editor.ICodeEditor;\n\ntype Props = {\n  script?: Script;\n  setScriptCode: (code: string) => void;\n  autoFormatOnSave: boolean;\n  rosLib: string;\n  typesLib: string;\n\n  save: (code: string) => void;\n  setScriptOverride: (script: Script) => void;\n};\n\n// Taken from:\n// https://github.com/microsoft/vscode/blob/master/src/vs/editor/standalone/browser/standaloneCodeServiceImpl.ts\nconst gotoSelection = (editor: monacoApi.editor.IEditor, selection?: monacoApi.IRange) => {\n  if (selection) {\n    const maybeSelection = mightActuallyBePartial(selection);\n    if (maybeSelection.endLineNumber != undefined && maybeSelection.endColumn != undefined) {\n      // These fields indicate a range was selected, set the range and reveal it.\n      editor.setSelection(selection);\n      editor.revealRangeInCenter(\n        selection,\n        1,\n        /* Immediate */\n      );\n    } else {\n      // Otherwise it's just a position\n      const pos = {\n        lineNumber: selection.startLineNumber,\n        column: selection.startColumn,\n      };\n      editor.setPosition(pos);\n      editor.revealPositionInCenter(\n        pos,\n        1,\n        /* Immediate */\n      );\n    }\n  }\n};\n\nconst projectConfig = getNodeProjectConfig();\nconst Editor = ({\n  autoFormatOnSave,\n  script,\n  setScriptCode,\n  save,\n  setScriptOverride,\n  rosLib,\n  typesLib,\n}: Props): ReactElement | ReactNull => {\n  const editorRef = React.useRef<CodeEditor>(ReactNull);\n  const autoFormatOnSaveRef = React.useRef(autoFormatOnSave);\n  autoFormatOnSaveRef.current = autoFormatOnSave;\n\n  const editorTheme = useTheme().palette.mode === \"dark\" ? \"vs-studio-dark\" : \"vs-studio-light\";\n\n  React.useEffect(() => {\n    const disposable = monacoApi.languages.typescript.typescriptDefaults.addExtraLib(\n      rosLib,\n      `file:///node_modules/@types/${projectConfig.rosLib.fileName}`,\n    );\n    return () => {\n      disposable.dispose();\n    };\n  }, [rosLib]);\n\n  React.useEffect(() => {\n    const filePath = monacoApi.Uri.parse(`file://${DEFAULT_STUDIO_NODE_PREFIX}generatedTypes.ts`);\n    const model =\n      monacoApi.editor.getModel(filePath) ??\n      monacoApi.editor.createModel(typesLib, \"typescript\", filePath);\n\n    model.setValue(typesLib);\n    model.updateOptions({ tabSize: 2 });\n  }, [typesLib]);\n\n  /*\n  In order to support go-to across files we register an \"open handler\" for the code editor service.\n  Our implementation looks across all of our models to find the one requested and then queues that as\n  an override along with the requested selection (containing line # etc). When we're told to load\n  this override script we'll end up loading the model in the useEffect below, and then using this\n  selection to move to the correct line.\n  */\n  useEffect(() => {\n    const disposable = codeEditorService.registerCodeEditorOpenHandler(\n      async (\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        input: any,\n        // eslint-disable-next-line no-restricted-syntax\n        editor: monacoApi.editor.ICodeEditor | null,\n        // eslint-disable-next-line no-restricted-syntax\n      ): Promise<monacoApi.editor.ICodeEditor | null> => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        const requestedModel = monacoApi.editor.getModel(input.resource);\n        if (!requestedModel) {\n          return editor;\n        }\n\n        // If we are jumping to a definition within the user node, don't push\n        // to script override.\n        if (\n          editor &&\n          script &&\n          requestedModel.uri.path ===\n            `${DEFAULT_STUDIO_NODE_PREFIX}${path.basename(script.filePath)}`\n        ) {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          gotoSelection(editor, input.options.selection);\n          // eslint-disable-next-line no-restricted-syntax\n          return null;\n        }\n\n        setScriptOverride({\n          filePath: requestedModel.uri.path,\n          code: requestedModel.getValue(),\n          readOnly: true,\n          selection: input.options?.selection,\n        });\n        return editor;\n      },\n    );\n    return () => disposable.dispose();\n  }, [script, setScriptOverride]);\n\n  React.useEffect(() => {\n    const editor = editorRef.current;\n    if (!editor || !script) {\n      return;\n    }\n\n    // For nodes, the name becomes the filePath.\n    // For the editor to resolve relative imports of the utilities (i.e. ./types), we need the\n    // user's code to be in a file next to the utility files. For this we grab the basename\n    // of the user's entered node name to remove any path-like sections.\n    const basename = path.basename(script.filePath);\n    const filePath = monacoApi.Uri.parse(`file://${DEFAULT_STUDIO_NODE_PREFIX}${basename}`);\n    const model =\n      monacoApi.editor.getModel(filePath) ??\n      monacoApi.editor.createModel(script.code, \"typescript\", filePath);\n\n    // Update the model's code if it was updated outside the Editor.\n    // Without this, monaco can continue to show old code if the userScripts are changed outside of the Editor\n    if (model.getValue() !== script.code) {\n      model.setValue(script.code);\n    }\n\n    editor.setModel(model);\n    gotoSelection(editor, script.selection);\n  }, [script]);\n\n  const options = React.useMemo<monacoApi.editor.IStandaloneEditorConstructionOptions>(() => {\n    return {\n      wordWrap: \"on\",\n      minimap: {\n        enabled: false,\n      },\n      readOnly: script?.readOnly,\n    };\n  }, [script]);\n\n  const willMount = React.useCallback<EditorWillMount>(\n    (monaco) => {\n      if (!script) {\n        return;\n      }\n\n      for (const theme of themes) {\n        monaco.editor.defineTheme(theme.name, theme.theme);\n      }\n\n      // Set eager model sync to enable intellisense between the user code and utility files\n      monaco.languages.typescript.typescriptDefaults.setEagerModelSync(true);\n      monaco.languages.typescript.javascriptDefaults.setEagerModelSync(true);\n\n      monaco.languages.registerDocumentFormattingEditProvider(\"typescript\", {\n        provideDocumentFormattingEdits: async (model) => {\n          try {\n            return [\n              {\n                range: model.getFullModelRange(),\n                text: await getPrettifiedCode(model.getValue()),\n              },\n            ];\n          } catch (e) {\n            return [];\n          }\n        },\n      });\n\n      // Disable validation in screenshots to avoid flaky tests\n      if (inScreenshotTests()) {\n        monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({\n          noSyntaxValidation: true,\n          noSemanticValidation: true,\n        });\n      }\n\n      // Load declarations and additional utility files from project config\n\n      // This ensures the type defs we enforce in\n      // the 'compile' step match that of monaco. Adding the 'lib'\n      // this way (instead of specifying it in the compiler options)\n      // is a hack to overwrite the default type defs since the\n      // typescript language service does not expose such a method.\n      projectConfig.declarations.forEach((lib) =>\n        monaco.languages.typescript.typescriptDefaults.addExtraLib(\n          lib.sourceCode,\n          `file:///node_modules/@types/${lib.fileName}`,\n        ),\n      );\n      projectConfig.utilityFiles.forEach((sourceFile) => {\n        const filePath = monacoApi.Uri.parse(`file://${sourceFile.filePath}`);\n        const model =\n          monaco.editor.getModel(filePath) ??\n          monaco.editor.createModel(sourceFile.sourceCode, \"typescript\", filePath);\n        model.updateOptions({ tabSize: 2 });\n      });\n\n      // For nodes, the name becomes the filePath.\n      // For the editor to resolve relative imports of the utilities (i.e. ./types), we need the\n      // user's code to be in a file next to the utility files. For this we grab the basename\n      // of the user's entered node name to remove any path-like sections.\n      const basename = path.basename(script.filePath);\n      const filePath = monacoApi.Uri.parse(`file://${DEFAULT_STUDIO_NODE_PREFIX}${basename}`);\n      const model =\n        monaco.editor.getModel(filePath) ??\n        monaco.editor.createModel(script.code, \"typescript\", filePath);\n\n      // Because anything else is blasphemy.\n      model.updateOptions({ tabSize: 2 });\n\n      return {\n        model,\n      };\n    },\n    [script],\n  );\n\n  const saveCode = React.useCallback(async () => {\n    const model = editorRef.current?.getModel();\n    if (model && script && !script.readOnly) {\n      // We have to use a ref for autoFormatOnSaveRef because of how monaco scopes the action callbacks\n      if (autoFormatOnSaveRef.current) {\n        await editorRef.current?.getAction(\"editor.action.formatDocument\")?.run();\n      }\n      save(model.getValue());\n    }\n  }, [save, script]);\n\n  const saveCodeRef = useRef(saveCode);\n  saveCodeRef.current = saveCode;\n  const didMount = React.useCallback<EditorDidMount>((editor) => {\n    editorRef.current = editor;\n    editor.addAction({\n      id: \"ctrl-s\",\n      label: \"Save current node\",\n      keybindings: [monacoApi.KeyMod.CtrlCmd | monacoApi.KeyCode.KeyS],\n\n      // Because this didMount function only runs once, we need to store the saveCode function in a\n      // ref so the command can always access the latest version.\n      run: async () => await saveCodeRef.current(),\n    });\n  }, []);\n\n  // Refer to setScriptCode by reference so that the onChange callback isn't invalidated\n  // on every edit.\n  const latestSetScriptCode = useLatest(setScriptCode);\n  const onChange = useCallback(\n    (srcCode: string) => latestSetScriptCode.current(srcCode),\n    [latestSetScriptCode],\n  );\n\n  const onResize = useCallback((width?: number, height?: number) => {\n    if (width != undefined && height != undefined) {\n      editorRef.current?.layout({ width, height });\n    }\n  }, []);\n\n  // monaco editor builtin auto layout uses an interval to adjust size to the parent component\n  // instead we use a resize observer and tell the editor to update the layout\n  // Use a debounce and 0 refresh rate to avoid triggering a resize observation while handling\n  // an existing resize observation.\n  // https://github.com/maslianok/react-resize-detector/issues/45\n  const { ref: sizeRef } = useResizeDetector({\n    refreshRate: 0,\n    refreshMode: \"debounce\",\n    onResize,\n  });\n\n  if (!script) {\n    // No script to load\n    return ReactNull;\n  }\n\n  return (\n    <div ref={sizeRef} style={{ width: \"100%\", height: \"100%\" }}>\n      <MonacoEditor\n        language=\"typescript\"\n        theme={editorTheme}\n        editorWillMount={willMount}\n        editorDidMount={didMount}\n        options={options}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nexport default Editor;\n"],"names":["processSize","size","noop","__assign","t","s","i","n","p","MonacoDiffEditor","_a","width","height","value","defaultValue","language","theme","options","overrideServices","editorWillMount","editorDidMount","editorWillUnmount","onChange","className","original","containerElement","editor","_subscription","__prevent_trigger_change_event","fixedWidth","fixedHeight","style","handleEditorWillMount","finalOptions","handleEditorDidMount","modified","event","handleEditorWillUnmount","initModels","finalValue","originalModel","modifiedModel","originalEditor","__rest","e","MonacoEditor","initMonaco","model","_model","optionsWithoutModel","getPrettifiedCode","code","prettier","parserPlugin","isChromatic","windowArg","windowToCheck","inScreenshotTests","themes","gotoSelection","selection","maybeSelection","mightActuallyBePartial","pos","autoFormatOnSave","script","setScriptCode","save","setScriptOverride","rosLib","typesLib","editorRef","React","autoFormatOnSaveRef","editorTheme","useTheme","disposable","filePath","input","requestedModel","basename","willMount","monaco","lib","sourceFile","saveCode","saveCodeRef","didMount","latestSetScriptCode","useLatest","srcCode","onResize","sizeRef"],"sourceRoot":""}